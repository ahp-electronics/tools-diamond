<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>How to Design with sysDSP</title><link rel="Prev" href="how_to_design_with_sysio_buffers.htm" title="Previous" /><link rel="Next" href="How%20to%20Use%20the%20Global%20Set/Reset%20(GSR)%20Signal.htm" title="Next" /><link rel="StyleSheet" href="../../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/how_to.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script><script type="text/javascript" src="../scripts/search-client.js"></script><script type="text/javascript" src="../scripts/unidata.js"></script><script type="text/javascript" src="../scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pXsEgCquTkPnITbUkOsma_002bA" class="ww_skin_page_body" onload="Page.OnLoad('../../index.htm#page/Reference%20Guides/Hardware%20How-To/how_to_design_with_sysdsp.htm');"><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><!-- Moved breadcrumbs to bottom of the header so that the print --><!-- button would float to the right of the breadcrumbs. --><!-- PH 4June2019 --><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="../Strategies/strategy_settings.htm">Reference Guides</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="hardware_how_to.htm#1181099">	Hardware How-To</a> &gt; How to Design with sysDSP</div></header><div id="page_content_container" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px"><div id="page_content"><h2 id="ww1181099" class="Heading1"><span></span>How to Design with sysDSP</h2><p id="ww1181100" class="BodyAfterHead"><span></span>The Lattice sysDSP (digital signal processing) technology provides dedicated DSP hardware blocks that perform a variety of high-speed, fixed-point, multiply, sum, and accumulate functions. This technology is supported by the the LatticeECP, LatticeECP2/M, and LatticeXP2 Lattice FPGA device families. </p><p id="ww1181101" class="Body"><span></span>The Diamond software helps automate the implementation of sysDSP block modules from design entry through creation of a programming file. Diamond software also includes Lattice-specific blockset functions for use with the MathWorks Simulink® products for algorithm development. </p><p id="ww1181102" class="Body"><span></span>For more information on sysDSP and the Simulink design flow, see the <span class="Hyperlink"><a href="../../Reference%20Guides/Hardware%20How-To/how_to_design_with_sysdsp.htm#ww1181131" title="How to Design with sysDSP">references</a></span> at the end of this topic.</p><h5 id="ww1181104" class="HeadingRunIn"><span></span>Design Flow</h5><p id="ww1181105" class="BodyAfterHead"><span></span>The following steps describe the typical flow for performing design entry, simulation, synthesis, and place and route of designs that incorporate sysDSP blocks: </p><div id="ww1181106" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>1.	</span></span>(Optional) Capture system requirements, physical constraints, and model your sysDSP design using the Simulink design flow. RTL Verilog HDL or VHDL that is compatible with Diamond logic synthesis (Precision or Synplify) is produced by this tool set. </div><div id="ww1181107" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>2.	</span></span>Open Diamond and create a project that targets a supported device family.</div><div id="ww1181108" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>3.	</span></span>Enter the DSP functionality of your design with any of the following methods: </div><div id="ww1181109" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Import Verilog HDL or VHDL source files produced by the MATLAB/Simulink design flow into your File List using Diamond. Right click on the Input Files folder and choose <span style="font-weight: bold">Add &gt; Existing Source</span> and navigate to the file using the Add Design File dialog. </div><div id="ww1201742" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Click <span style="font-weight: bold">Tools &gt; IPexpress</span> to generate a specific configuration of a sysDSP module using the IPexpress module generator. In the File List view, double click on your input HDL source file and instantiate one or more sysDSP modules into your HDL design using Diamond’s internal Source Editor tool. Import the &lt;<em class="Emphasis">module_name</em>&gt;.ipx file into your project's source list using Diamond. Alternately, you may import the defining module HDL file as your project source; however, modifications to the module requires additional steps. </div><div id="ww1181112" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Write HDL that will infer a sysDSP module. </div><div id="ww1202348" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>4.	</span></span>In the Process view, double click the Translate Design<span style="font-weight: bold"> </span>process to create a Pre-Map version of the design. The Output view will show you if your NGD file was created successfully. Click the adjacent Error and Warning tabs to check for potential issues. </div><div id="ww1202369" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>5.	</span></span>In the Process view, double click the Map Design process to create a Post-Map version of the design. Double click Map Report in the Design Summary view to review the DSP block summary section of the MRP file to confirm specific device resources utilized. The Map Design process will check for parameter usage and range violations and report errors in the Error tab adjacent to the Output view.</div><div id="ww1202338" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>6.	</span></span>In the Process view, double click the Place &amp; Route Design process to create a Post-PAR version of the design. Double click Place &amp; Route Report in the Design Summary view the DSP block summary section of the PAR file to review the final implementation. </div><div id="ww1181117" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>7.	</span></span>You may simulate a project that contains a sysDSP module at all phases of the design flow: Functional, Post-Route Functional, or Post-Route Timing Simulation. </div><div id="ww1181118" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>8.	</span></span>You may bypass IPexpress and directly instantiate a sysDSP block library primitives into your HDL source. </div><p id="ww1191472" class="Body"><span></span>See applicable technical notes listed in the References section of this topic for more information about connecting sysDSP software primitives, synthesis style guidelines, module types, modes, and configuration options.</p><h5 id="ww1181121" class="HeadingRunIn"><span></span>Modifying an Existing ispDSP Module</h5><p id="ww1181122" class="BodyAfterHead"><span></span>To modify an existing sysDSP module in your project (e.g. change module configuration or port interface), use the following guidelines to make changes: </p><h5 id="ww1181123" class="StepIntro"><span></span>To modify an existing module:</h5><p id="ww1181124" class="BodyAfterHead"><span></span>If the &lt;<em class="Emphasis">module_name</em>&gt;.ipx file is used as the project source of Diamond, then double-click the file to open it into IPexpress.</p><h5 id="ww1205328" class="StepIntro"><span></span>If the HDL file of the module is used as the project source, use the following procedure:</h5><div id="ww1205329" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>1.	</span></span>In Diamond, choose <span style="font-weight: bold">Tools &gt; </span><span class="GUI">IPexpress</span> and select the module in the Module list on the left to populate the the <span class="GUI">macro type</span>, module name, and other relevant text boxes in the module’s Configuration tab view in the main area of the view. </div><div id="ww1205330" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>2.	</span></span>After you type in the File name and select Module Output click the <span style="font-weight: bold">Customize</span> button. A module dialog appears with a schematic block diagram of the module at left and various settings. </div><div id="ww1205331" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>3.	</span></span>In the module’s Customize dialog, check <span class="GUI">Import IPX to Diamond Project</span><span class="GUI"> at the bottom left </span>to include the &lt;<em class="Emphasis">module_name</em>&gt;.ipx file. IPexpress loads the previous configuration. </div><div id="ww1205332" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>4.	</span></span>Adjust the module configuration, then click <span class="GUI">Generate</span>. IPexpress overwrites the prior version.</div><p id="ww1181129" class="Body"><span></span><span class="GUI">Note:</span> If the port interface changes, the code using the module must be modified. If the port interface does not change, no additional modifications must be made, or steps taken once the module has been regenerated.</p><h5 id="ww1181131" class="HeadingRunIn"><span></span>References</h5><p id="ww1181132" class="BodyAfterHead"><span></span>For more information refer to the following topics, examples, and application notes from the Lattice Semiconductor web site. </p><div id="ww1211900" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="http://www.latticesemi.com/view_document?document_id=50469" target="_blank">TN1267</a></span>, <span style="font-style: italic">ECP5 sysDSP Usage Guide</span></div><div id="ww1200748" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="http://www.latticesemi.com/dynamic/view_document.cfm?document_id=8525" target="_blank">TN1057</a></span>, <span style="font-style: italic">LatticeECP-DSP sysDSP Usage Guide</span></div><div id="ww1189461" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="http://www.latticesemi.com/dynamic/view_document.cfm?document_id=21654" target="_blank">TN1107</a></span>, <span style="font-style: italic">LatticeECP2/M sysDSP Usage Guide</span></div><div id="ww1211957" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="http://www.latticesemi.com/dynamic/view_document.cfm?document_id=32322" target="_blank">TN1182</a></span>, <em class="Emphasis">LatticeECP3-DSP sysDSP Usage Guide</em></div><div id="ww1211961" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="http://www.latticesemi.com/dynamic/view_document.cfm?document_id=23978" target="_blank">TN1140</a></span>, <span style="font-style: italic">LatticeXP2 sysDSP Usage Guide</span>.</div><div id="ww1211963" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="http://www.latticesemi.com/solutions/technologysolutions/digitalsignalprocessing.cfm" target="_blank">DSP (Digital Signal Processing) Technology: sysDSP web page</a></span> on the Lattice Web site. </div><div id="ww1189465" class="Bulleted" style="vertical-align: baseline"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="http://www.mathworks.com/" target="_blank">The MathWorks Web site</a></span></div><h5 id="ww1216333" class="HeadingRunIn"><span></span>See Also</h5><div id="ww1216338" class="Bulleted" style="vertical-align: baseline"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span style="color: #196bff; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a href="../../Reference%20Guides/Hardware%20How-To/hardware_how_to.htm#ww1217682" title="Hardware How-To">Hardware How-To</a></span></div></div><div id="page_dates"><div class="ww_skin_page_publish_date"></div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript></body></html>