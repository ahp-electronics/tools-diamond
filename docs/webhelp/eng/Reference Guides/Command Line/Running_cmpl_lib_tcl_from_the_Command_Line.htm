<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Running cmpl_lib.tcl from the Command Line</title><link rel="Prev" href="Command_Line_Tool_Usage.htm" title="Previous" /><link rel="Next" href="running_synthesis_from_the_command_line.htm" title="Next" /><link rel="StyleSheet" href="../../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/flow_3.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script><script type="text/javascript" src="../scripts/search-client.js"></script><script type="text/javascript" src="../scripts/unidata.js"></script><script type="text/javascript" src="../scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pN7bjP5aoDsMQCAl_002bK9JBYjg" class="ww_skin_page_body" onload="Page.OnLoad('../../index.htm#page/Reference%20Guides/Command%20Line/Running_cmpl_lib_tcl_from_the_Command_Line.htm');"><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><!-- Moved breadcrumbs to bottom of the header so that the print --><!-- button would float to the right of the breadcrumbs. --><!-- PH 4June2019 --><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="../Strategies/strategy_settings.htm">Reference Guides</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="command_line_ref.htm#1167221">Command Line Reference Guide</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="Command_Line_Tool_Usage.htm#1167221">Command Line Tool Usage</a> &gt; Running cmpl_lib.tcl from the Command Line</div></header><div id="page_content_container" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px"><div id="page_content"><h3 id="ww1167221" class="Heading2"><span></span>Running cmpl_lib.tcl from the Command Line</h3><p id="ww1167222" class="BodyAfterHead"><span></span>The cmpl_lib.tcl command allows you to perform simulation library compliation from the command line.</p><p id="ww1167223" class="Body"><span></span>The following information is for running cmpl_libs.tcl from the command line using the tclsh application. The supported TCL version is 8.5 or higher.</p><p id="ww1167224" class="Body"><span></span>If you don't have TCL installed, or you have an older version, perform the following:</p><div id="ww1167225" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Add &lt;<span style="font-style: italic">Diamond_install_path</span>&gt;/tcltk/bin to the front of your PATH, and</div><div id="ww1167226" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>For Linux users only, add &lt;<span style="font-style: italic">Diamond_install_path</span>&gt;/tcltk/lib to the front of your LD_LIBRARY_PATH</div><div class="ww_skin_page_overflow"><table class="Note" cellspacing="0" summary=""><caption class="NoteTitle" style="caption-side: top"><div id="ww1167229" class="NoteTitle">Note</div></caption><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: none; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: none; border-right-width: 0px; border-top-color: #E5E5E5; border-top-style: none; border-top-width: 1.0pt; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 4px; vertical-align: top"><div id="ww1167231" class="CellBody"><span></span>The default version of TCL on Linux could be older and may cause the script to fail. Ensure that you have TCL version 8.5 or higher.</div></td></tr></table></div><p id="ww1167232" class="Body"><span></span>To check TCL version, type:</p><pre id="ww1167233" class="Code">tclsh</pre><pre id="ww1167234" class="Code">% info tclversion</pre><pre id="ww1167235" class="Code">% exit</pre><pre id="ww1167236" class="Code">&nbsp;</pre><p id="ww1167237" class="Body"><span></span>For script usage, type:</p><pre id="ww1167238" class="Code">tclsh cmpl_libs.tcl [-h|-help|]</pre><pre id="ww1167245" class="Code">&nbsp;</pre><div class="ww_skin_page_overflow"><table class="Note" cellspacing="0" summary=""><caption class="NoteTitle" style="caption-side: top"><div id="ww1167241" class="NoteTitle">Note</div></caption><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: none; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: none; border-right-width: 0px; border-top-color: #E5E5E5; border-top-style: none; border-top-width: 1.0pt; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 4px; vertical-align: top"><div id="ww1167243" class="CellBody"><span></span>If Modelsim/Questa is already in your PATH and preceding any Aldec tools, you can use:</div><div id="ww1167244" class="CellBody" style="vertical-align: baseline"><span></span><span style="color: #000000; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">'-sim_path .' for simplification; '.' will be added to the front of your PATH.</span></div></td></tr></table></div><div class="ww_skin_page_overflow"><table class="Note" cellspacing="0" summary=""><caption class="NoteTitle" style="caption-side: top"><div id="ww1167248" class="NoteTitle">Note</div></caption><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: none; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: none; border-right-width: 0px; border-top-color: #E5E5E5; border-top-style: none; border-top-width: 1.0pt; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 4px; vertical-align: top"><div id="ww1167250" class="CellBody"><span></span>Ensure the FOUNDRY environment variable is set. If the FOUNDRY environment variable is missing, then you need to set it before running the script. For details, refer to <a href="../../Reference%20Guides/Command%20Line/Setting_Up_the_Environment_to_Run_Command_Line.htm#ww1001473" title="Setting Up the Environment to Run Command Line">Setting Up the Environment to Run Command Line</a>.</div></td></tr></table></div><p id="ww1167255" class="Body"><span></span>Check log files under &lt;<span style="font-style: italic">target_path</span>&gt; (defualt = .) for any errors, as follows:</p><div id="ww1167256" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>For Linux, type: </div><pre id="ww1167257" class="CodeIndented">grep -i error *.log</pre><pre id="ww1167258" class="CodeIndented">&nbsp;</pre><div id="ww1167259" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>For Windows, type:</div><pre id="ww1167260" class="CodeIndented">find /i "error" *.log</pre><pre id="ww1167261" class="CodeIndented">&nbsp;</pre><h5 id="ww1167262" class="StepIntro"><span></span>Subjects included in this topic:</h5><div id="ww1167266" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../Reference%20Guides/Command%20Line/Running_cmpl_lib_tcl_from_the_Command_Line.htm#ww1167280" title="Running cmpl_lib.tcl from the Command Line">Running compl_lib.tcl</a></span></div><div id="ww1167270" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../Reference%20Guides/Command%20Line/Running_cmpl_lib_tcl_from_the_Command_Line.htm#ww1167283" title="Running cmpl_lib.tcl from the Command Line">Command Line Syntax</a></span></div><div id="ww1167274" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../Reference%20Guides/Command%20Line/Running_cmpl_lib_tcl_from_the_Command_Line.htm#ww1181680" title="Running cmpl_lib.tcl from the Command Line">cmpl_lib.tcl Options</a></span></div><div id="ww1167278" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../Reference%20Guides/Command%20Line/Running_cmpl_lib_tcl_from_the_Command_Line.htm#ww1167311" title="Running cmpl_lib.tcl from the Command Line">Examples</a></span></div><h5 id="ww1167280" class="HeadingRunIn"><span></span>Running compl_lib.tcl</h5><p id="ww1167281" class="Body"><span></span>cmpl_libs.tcl allows you to compile simulation libraries from the command line.</p><h5 id="ww1167283" class="HeadingRunIn"><span></span>Command Line Syntax</h5><p id="ww1181677" class="Body"><span></span>tclsh &lt;<span style="font-style: italic">diamond_install_path</span>&gt;/cae_library/simulation/script/cmpl_libs.tcl -sim_path &lt;sim_path&gt; [-sim_vendor {mentor&lt;default&gt;}] [-lang {verilog|vhdl|all&lt;default&gt;}] [-device {sc|scm|ec|xp|ecp|machxo|ecp2|ecp2m|xp2|ecp3|machxo2|machxo3d|machxo3l|lptm|lptm2|ecp5u|ecp5um|lifmd|lifmdf|all&lt;default&gt;}] [-target_path &lt;target_path&gt;] </p><h5 id="ww1181680" class="HeadingRunIn"><span></span>cmpl_lib.tcl Options</h5><p id="ww1167309" class="Body"><span></span>The table below contains all valid options for cmpl_libs.tcl</p><div class="ww_skin_page_overflow"><table class="Format_A" style="text-align: right" cellspacing="0" summary=""><caption class="TableTitle" style="caption-side: top"><div id="ww1167289" class="TableTitle">cmpl_lib.tcl Command Line Options</div></caption><tr><th style="border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-color: #a0a0a0; border-top-style: none; border-top-width: 1.0pt; padding-bottom: 4px; padding-left: 10px; padding-right: 10px; padding-top: 4px; vertical-align: top"><div id="ww1167293" class="CellHeading"><span></span>Option</div></th><th style="border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-color: #a0a0a0; border-top-style: none; border-top-width: 1.0pt; padding-bottom: 4px; padding-left: 10px; padding-right: 10px; padding-top: 4px; vertical-align: top"><div id="ww1167295" class="CellHeading"><span></span>Description</div></th></tr><tr><td style="background-color: #F3F3F3; border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-color: #a0a0a0; border-top-style: none; border-top-width: 1.0pt; padding-bottom: 0px; padding-left: 10px; padding-right: 10px; padding-top: 4px; vertical-align: top"><div id="ww1167297" class="CellBody"><span></span>-sim_path &lt;sim_path&gt;</div><div id="ww1167298" class="CellBody"><span></span>[-sim_vendor {mentor&lt;default&gt;}]</div><div id="ww1174719" class="CellBody"><span></span>[-lang {verilog|vhdl|all&lt;default&gt;}]</div><div id="ww1182109" class="CellBody"><span></span>[-device {sc|scm|ec|xp|ecp|machxo|ecp2|ecp2m|xp2|ecp3|machxo2|<span style="font-size: 10.0pt">machxo3d|</span>machxo3l|lptm|lptm2|ecp5u|ecp5um|lifmd|<span style="font-size: 10.0pt">lifmdf|</span>all&lt;default&gt;}]</div><div id="ww1167302" class="CellBody"><span></span>[-target_path &lt;target_path&gt;]</div></td><td style="background-color: #F3F3F3; border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-color: #a0a0a0; border-top-style: none; border-top-width: 1.0pt; padding-bottom: 0px; padding-left: 10px; padding-right: 10px; padding-top: 4px; vertical-align: top"><div id="ww1167304" class="CellBulleted"><span class="WebWorks_Number" style="width: 14.4pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>The -sim_path argument specifies the path to the simulation tool executable (binary) folder. This option is mandatory. Currently only Modelsim and Questa simulators are supported. NOTE: If &lt;<span style="font-style: italic">sim_path</span>&gt; has spaces, then it must be surrounded by " ". Do not use { }.</div><div id="ww1167305" class="CellBulleted"><span class="WebWorks_Number" style="width: 14.4pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>The -sim_vendor argument is optional, and intended for future use. It currently supports only Mentor Graphics simulators (Modelsim / Questa).</div><div id="ww1167306" class="CellBulleted"><span class="WebWorks_Number" style="width: 14.4pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>The -lang argument specifies the HDL type of the compiled libraries. This argument is optional, and the default is to compile both types of libraries.</div><div id="ww1167307" class="CellBulleted"><span class="WebWorks_Number" style="width: 14.4pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>The -device argument specifies the Lattice FPGA device to compile simulation libraries for. This argument is optional, and the default is to compile libraries for all the Lattice FPGA devices.</div><div id="ww1167308" class="CellBulleted"><span class="WebWorks_Number" style="width: 14.4pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>The -target_path argument specifies the target path, where you want the compiled libraries and modelsim.ini file to be located. This argument is optional, and the default target path is the current folder. NOTES: (1) This argument is recommended if the current folder is the Diamond's startup (binary) folder, or if the current folder is write-protected. (2) If &lt;<span style="font-style: italic">target_path</span>&gt; has spaces, then it must be surrounded by " ". Do not use { }. </div></td></tr></table></div><h5 id="ww1167311" class="HeadingRunIn"><span></span>Examples</h5><p id="ww1167312" class="Body"><span></span>This section illustrates and describes a few examples of Simulation Libraries Compilation Tcl command.</p><h5 id="ww1167313" class="HeadingRunIn"><span></span>Example 1</h5><p id="ww1167314" class="Body"><span></span>The following command will compile all the Lattice FPGA libraries for both Verilog and VHDL simulation, and place them under the folder specified by -target_path. The path to Modelsim is specified by -sim_path. </p><pre id="ww1167315" class="Code">tclsh &lt;<span style="font-style: italic">Diamond_install_path</span>&gt;/cae_library/simulation/script/cmpl_libs.tcl -sim_path C:/modeltech64_10.0c/win64 -target_path c:/mti_libs</pre><pre id="ww1173927" class="Code">&nbsp;</pre><h5 id="ww1167316" class="HeadingRunIn"><span></span>Example 2</h5><p id="ww1167317" class="Body"><span></span>The following command will compile the LatticeECP3 libraries for Verilog simulation only, and place them under the current folder. The path to Modelsim is specified by -sim_path.</p><pre id="ww1167318" class="Code">tclsh &lt;<span style="font-style: italic">Diamond_install_path</span>&gt;/cae_library/simulation/script/cmpl_libs.tcl -sim_path C:\modeltech_6.6d\win32 -device ecp3 -lang verilog</pre><pre id="ww1173930" class="Code">&nbsp;</pre><div class="ww_skin_page_overflow"><table class="Note" cellspacing="0" summary=""><caption class="NoteTitle" style="caption-side: top"><div id="ww1167321" class="NoteTitle">Note</div></caption><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: none; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: none; border-right-width: 0px; border-top-color: #E5E5E5; border-top-style: none; border-top-width: 1.0pt; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 4px; vertical-align: top"><div id="ww1167323" class="CellBody"><span></span> Backslash (\) is for Windows paths only. For Linux, use forward slash (/).</div></td></tr></table></div></div><div id="page_dates"><div class="ww_skin_page_publish_date"></div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript></body></html>