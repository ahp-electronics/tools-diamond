<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Troubleshooting Design Implementation Errors</title><link rel="Prev" href="Inserting_debug_cores.htm" title="Previous" /><link rel="Next" href="removing_debug_logic.htm" title="Next" /><link rel="StyleSheet" href="../../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/la_inserter.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script><script type="text/javascript" src="../scripts/search-client.js"></script><script type="text/javascript" src="../scripts/unidata.js"></script><script type="text/javascript" src="../scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pSlBSnyrTmIK1y2P46yokSA" class="ww_skin_page_body" onload="Page.OnLoad('../../index.htm#page/User%20Guides/On-Chip%20Debugging/signals_unavailable.htm');"><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><!-- Moved breadcrumbs to bottom of the header so that the print --><!-- button would float to the right of the breadcrumbs. --><!-- PH 4June2019 --><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="../Getting%20Startred/Getting_Started.htm">User Guides</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="debugging_on_chip.htm#1227419">Testing and Debugging On-Chip</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="creating_Reveal_modules.htm#1227419">Creating Reveal Modules</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="Inserting_debug_cores.htm#1227419">Inserting the Reveal Modules</a> &gt; Troubleshooting Design Implementation Errors</div></header><div id="page_content_container" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px"><div id="page_content"><h4 id="ww1227419" class="Heading3"><span></span>Troubleshooting Design Implementation Errors</h4><p id="ww1227420" class="BodyAfterHead"><span></span>If the design implementation process fails after inserting Reveal modules, check this section for solutions. Some possible problems are preferences not being recognized and signals not being physically available for tracing or triggering.</p><h5 id="ww1223358" class="DropDown" onclick="WebWorks_ToggleDIV('ww1223358')"><span></span>Preferences Not Recognized <span id="ww1223358:dd:arrow" class="ww_skin ww_skin_dropdown_arrow ww_skin_page_dropdown_arrow_collapsed"><i class="fa"></i></span></h5><div id="ww1223358:dd" class="ww_skin_page_dropdown_div_collapsed"><p id="ww1223309" class="BodyAfterHead"><span></span>When Reveal Inserter adds modules to a design, it must connect to the signals being used for triggers, traces, and the sample clock. If any of these signals have preferences on them, there is a chance that the preference may no longer be recognized. This only occurs on signals that do not go to the top level of the design when the Reveal module is not present. When the signal connects to a top-level Reveal module, the name on the net segment attached to the Reveal module is used for assigning preferences instead of the original name.</p><p id="ww1223311" class="Body"><span></span>This problem occurs most often on the sample clock but other clocks may also be renamed. Check the clock section of the mapping report file (.mrp) for clock names. Being a clock signal, it is likely there is a preference already assigned to this signal. If the clock was not originally present in the top level of the design, the original preference is not recognized. This results in one or more warnings of the following form when Spreadsheet View is opened:</p><p id="ww1223312" class="Body"><span></span>WARNING - baspe: Semantic Error: clocksig_200 matches no nets in the design. Occurred in "USE PRIMARY PURE NET "clocksig_200" ; ". Disabled this preference.</p><p id="ww1223313" class="Body"><span></span>The solution is to copy the preference for the original signal and make a new preference for the net name that is now being used. Reveal Inserter always generates a name in the format of reveal_ist_&lt;<em class="Emphasis">number</em>&gt;.</p><p id="ww1223314" class="Body"><span></span>In the case of the above warning, the Period/Frequency sheet of Spreadsheet View shows a clknet named reveal_ist_67 instead of clocksig_200. In the preference file (.lpf), this can be corrected by copying the existing preference line ‘USE PRIMARY PURE NET “clocksig_200” ;’ and adding the line ‘USE PRIMARY PURE NET “reveal_ist_67” ;’.</p><p id="ww1223315" class="Body"><span></span>By copying the preference instead of just changing it, the same preference file can be used both with and without the Reveal modules. If the debug connections are changed in Reveal Inserter, it may be necessary to change the preference due to Reveal Inserter generating a slightly different name.</p></div><h5 id="ww1223365" class="DropDown" onclick="WebWorks_ToggleDIV('ww1223365')"><span></span>Signals Implemented as Hard Routes <span id="ww1223365:dd:arrow" class="ww_skin ww_skin_dropdown_arrow ww_skin_page_dropdown_arrow_collapsed"><i class="fa"></i></span></h5><div id="ww1223365:dd" class="ww_skin_page_dropdown_div_collapsed"><p id="ww1223374" class="BodyAfterHead"><span></span>Some signals that are implemented as hard routes in the FPGA instead of using the routing fabric are not available for tracing or triggering. Examples are connections to IB and OB components. If you select a signal for tracing or triggering that is implemented as a hard route, an error will occur during the synthesis, mapping, placement, or routing steps. However, the error can take many forms. Following are a couple of examples.</p><p id="ww1223375" class="Body"><span></span>Here is an example error from the synthesis log file, &lt;<span style="font-style: italic">cktname</span>&gt;.log:</p><p id="ww1223376" class="Body"><span></span>@E:"f:\cws\bugs\cr37986\reveal_workspace\tmprveal\rx_ddr_rvl.vhd":648:8:648:12|Port 'serin' on Chip 'RX_DDR' drives 1 PAD loads and 1 non PAD loads</p><p id="ww1223377" class="Body"><span></span>In this example error message, the serin signal is a hard route, and serin is not the name of the original signal that was traced. The hierarchical path shown is for the Reveal module that was generated. It is not part of the original design and is not displayed during the debug module insertion. The error message does not specify which trace or trigger signal is causing the problem.</p><p id="ww1227925" class="Body"><span></span>To manually determine which signal is causing this error, you can use two approaches:</p><div id="ww1223378" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Remove signals one by one in Reveal Inserter to see which caused the error. If you have only a few signals, this would be the best approach.</div><div id="ww1223379" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Manually look through the design to determine the problem. If you have many signals, this approach would be the best.</div><div id="ww1223380" class="Indented">However, the error message refers to the temporary HDL design that is generated during debug logic insertion. Normally this HDL source is deleted after the database is built. To save this temporary HDL source in the case of errors in mapping, you must set an environment variable.</div><div id="ww1223381" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>a.	</span></span>In the System control panel, click on the Advanced tab, then click on the environment variable button at the bottom of the window.</div><div id="ww1223382" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>b.	</span></span>Create a new environment variable named KEEP_REVEAL_TEMP. The value can be anything, but it is normally set to TRUE.</div><div id="ww1223383" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>c.	</span></span>Once this variable is set, exit Diamond.</div><div id="ww1223384" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>d.	</span></span>Open Diamond and synthesize the design.</div><div id="ww1227949" class="Indented">You can now open the generated HDL to determine which signal caused the error. You can open this file with a text editor, or use HDL Explorer to open and explore the design. The top-level generated file is located at &lt;<span style="font-style: italic">project_directory</span>&gt;/reveal_workspace/tmpreveal/&lt;<span style="font-style: italic">project_name</span>&gt;_rvl.&lt;<em class="Emphasis">v or vhd</em>&gt;.</div><p id="ww1227950" class="Body"><span></span>Following is another example of an error generated during mapping:</p><p id="ww1223387" class="Body"><span></span>ERROR - map: IO register/latch FF_inst cannot be implemented in PIC.</p><p id="ww1227957" class="Body"><span></span>In this case, the input of a register is being traced. But the register is being implemented as an input flip-flop because of a preference, USE DIN. Allowing the register to be implemented as an internal flip-flop by removing the preference resolves the issue.</p></div><h5 id="ww1228124" class="HeadingRunIn"><span></span>See Also</h5><div id="ww1228125" class="Portal"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><a href="../../User%20Guides/On-Chip%20Debugging/limitations.htm#ww1230997" title="Limitations">Limitations</a></div></div><div id="page_dates"><div class="ww_skin_page_publish_date"></div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript></body></html>