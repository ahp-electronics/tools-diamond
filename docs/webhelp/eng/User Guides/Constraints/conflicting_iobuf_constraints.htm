<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Conflicting IOBUF Constraints</title><link rel="Prev" href="timing_preference_priority.htm" title="Previous" /><link rel="Next" href="conflicts_hdl_and_preferences.htm" title="Next" /><link rel="StyleSheet" href="../../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/design_imp_1.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script><script type="text/javascript" src="../scripts/search-client.js"></script><script type="text/javascript" src="../scripts/unidata.js"></script><script type="text/javascript" src="../scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="prbOYVT_002bVRFH4w_002fWTCBWevA" class="ww_skin_page_body" onload="Page.OnLoad('../../index.htm#page/User%20Guides/Constraints/conflicting_iobuf_constraints.htm');"><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><!-- Moved breadcrumbs to bottom of the header so that the print --><!-- button would float to the right of the breadcrumbs. --><!-- PH 4June2019 --><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="../Getting%20Startred/Getting_Started.htm">User Guides</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="Applying_Design_Constraints.htm#1451735">Applying Design Constraints</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="using%20preferences.htm#1451735">Using Preferences</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="preference_conflict_resolution.htm#1451735">Preference Conflict Resolution</a> &gt; Conflicting IOBUF Constraints</div></header><div id="page_content_container" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px"><div id="page_content"><h4 id="ww1451735" class="Heading3"><span></span>Conflicting IOBUF Constraints</h4><p id="ww1548020" class="BodyAfterHead"><span></span>IOBUF constraints can sometimes conflict with one another, especially when they appear in both the HDL and the .lpf file or when they are used for individual ports as well as port groups. When there are conflicting IOBUF constraints, the following rules of precedence apply.</p><h5 id="ww1456240" class="HeadingRunIn"><span></span>Attributes in the HDL and LPF for the Same Port or Port Group</h5><p id="ww1507846" class="Body"><span></span>When conflicting IOBUF attributes exist in the .lpf file and in the HDL for the same port or port group, those in the .lpf file will take precedence. </p><p id="ww1511793" class="Body"><span></span>Beginning with Diamond 3.2, IOBUF attribute changes that you make in Spreadsheet View for a specific port or port group will be combined with non-conflicting attributes that exist in the HDL for the same port or port group. When you save the changes, the combination will be recorded in the .lpf file.</p><p id="ww1511794" class="Body"><span></span>For example, the HDL source assigns the following to Port A:</p><p id="ww1507489" class="Body"><span></span>input A /* synthesis IO_TYPE=LVCMOS18 PULLMODE=UP LOC=12 */;</p><p id="ww1539376" class="Body"><span></span>You open Spreadsheet View’s Port Assignments sheet and change IO_TYPE to LVCMOS33 and set CLAMP to ON for Port A. When you save the changes, Diamond combines the non-conflicting HDL attributes with the Spreadsheet View changes and records them in the .lpf file as follows:</p><div class="ww_skin_page_overflow"><table class="Code" cellspacing="0" summary=""><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-style: none; padding-bottom: 4px; padding-left: 4px; padding-right: 4px; padding-top: 4px; vertical-align: top; width: 342pt"><pre id="ww1539379" class="Code">IOBUF PORT "A" CLAMP=ON IO_TYPE=LVCMOS33 PULLMODE=UP ;</pre></td></tr></table></div><p id="ww1509254" class="Body"><span></span>The non-conflicting PULLMODE attribute from the HDL is added to the .lpf file, as is the CLAMP attribute that was set in Spreadsheet View. The LVCMOS18 IO_TYPE from the HDL is replaced by LVCMOS33 from Spreadsheet View. </p><p id="ww1516096" class="Body"><span></span>The LOC=12 pin assignment from the HDL does not appear in the .lpf file, because it is a placement constraint. If you had changed the pin assignment to pin 14 in Spreadsheet View and saved it, it would appear in the .lpf file as a separate preference: <code class="Code">LOCATE COMP "A" SITE "14" ;</code></p><p id="ww1512590" class="Body"><span></span>When you set new IOBUF preferences manually using a text editor, conflicting IOBUF attributes in the .lpf file will completely override the HDL attributes for the same port or port group when the design is mapped. The exceptions to this rule are IO_TYPE and the placement constraint LOC.</p><div id="ww1514007" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>An IO_TYPE attribute that exists in the HDL will be honored unless the .lpf file contains an IO_TYPE constraint for the same port or port group. </div><div id="ww1514008" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Beginning with Diamond 3.1, the placement constraint LOC does not get overridden by an IOBUF preference for the same port or port group unless it is redefined by a LOCATE preference in the .lpf file. See <span class="Hyperlink"><a href="../../User%20Guides/Constraints/conflicting_iobuf_constraints.htm#ww1480712" title="Conflicting IOBUF Constraints">Migrating Designs from Previous Releases</a></span>.</div><h5 id="ww1509255" class="HeadingRunIn"><span></span>ALLPORTS Attribute and HDL Attributes</h5><p id="ww1451412" class="Body"><span></span>All IOBUF attributes that exist in the HDL will get overridden by the Map process when the ALLPORTS attribute is used in the .lpf file. The one exception is IO_TYPE, which will be maintained unless the ALLPORTS attribute specifies a different IO_TYPE.</p><p id="ww1451428" class="Body"><span></span>For example, the HDL source assigns PULLMODE=UP for Port A. Later, in Spreadsheet View, the IO_TYPE in the All Ports row is changed from LVCMOS25 to LVCMOS33. When the design is placed and routed, all of the ports are given the LVCMOS33 IO_TYPE, including Port A. But the PULLMODE for Port A reverts to DOWN, which is the default setting. The only way to return to the original PULLMODE=UP for Port A is to change it in the .lpf file and rerun Map and Place &amp; Route.</p><p id="ww1451928" class="Body"><span></span>When you use ALLPORTS in the .lpf file to make global IOBUF assignments, make sure that you move any existing HDL IOBUF assignments to the .lpf file.</p><h5 id="ww1451929" class="HeadingRunIn"><span></span>Conflicting LPF Attributes for the Same Port or Group</h5><p id="ww1452950" class="Body"><span></span>When two IOBUF preferences appear in the .lpf file for the same port or group, the one that occurs last will be honored and will override the one that appears earlier. The one exception is IO_TYPE, which be maintained unless the preference that occurs later specifies a different IO_TYPE. See <span class="Hyperlink"><a href="../../User%20Guides/Constraints/conflicting_iobuf_constraints.htm#ww1480756" title="Conflicting IOBUF Constraints">Combining Multiple IOBUF Preferences</a></span>.</p><p id="ww1459836" class="Body"><span></span>For example, the following preferences for Port A appear in two different places in the .lpf file:</p><div class="ww_skin_page_overflow"><table class="Code" cellspacing="0" summary=""><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-style: none; padding-bottom: 4px; padding-left: 4px; padding-right: 4px; padding-top: 4px; vertical-align: top; width: 342pt"><pre id="ww1452953" class="Code">IOBUF PORT "A" SLEWRATE=SLOW PULLMODE=DOWN;</pre></td></tr></table></div><div class="ww_skin_page_overflow"><table class="Code" cellspacing="0" summary=""><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-style: none; padding-bottom: 4px; padding-left: 4px; padding-right: 4px; padding-top: 4px; vertical-align: top; width: 342pt"><pre id="ww1452956" class="Code">IOBUF PORT "A" SLEWRATE=FAST;</pre></td></tr></table></div><p id="ww1480747" class="Body"><span></span>When the design is mapped, the SLEWRATE=FAST preference, which appears last, will be honored. The earlier preference will be completely overridden, which means that PULLMODE will revert to the default setting.</p><h5 id="ww1480749" class="HeadingRunIn"><span></span>Conflicting LPF Attributes Between Ports, Groups, and ALLPORTS</h5><p id="ww1459614" class="BodyAfterHead"><span></span>When the .lpf file contains IOBUF preferences that conflict among one or more ports, groups, and/or ALLPORTS, the more specific IOBUF preference takes precedence and will override the less specific preference. The one exception is IO_TYPE, which will be maintained unless the more specific preference specifies a different IO_TYPE.</p><p id="ww1459839" class="Body"><span></span>For example, the following preferences show conflicting IOBUF attributes between Port A and a port group that includes Port A.</p><div class="ww_skin_page_overflow"><table class="Code" cellspacing="0" summary=""><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-style: none; padding-bottom: 4px; padding-left: 4px; padding-right: 4px; padding-top: 4px; vertical-align: top; width: 342pt"><pre id="ww1459617" class="Code">DEFINE PORT GROUP "iogroup" "A*";</pre><pre id="ww1459618" class="Code">IOBUF GROUP "iogroup" IO_TYPE=LVCMOS33 PULLMODE=UP;</pre><pre id="ww1459619" class="Code">IOBUF PORT "A" IO_TYPE=LVCMOS18 CLAMP=OFF;</pre></td></tr></table></div><p id="ww1453792" class="Body"><span></span>In the above example, a wildcard (A*) has been used to select ports for the “iogroup” port group, including Port A. When the design is mapped, the attributes for the more specific IOBUF Port A preference will be honored: IO_TYPE=LVCMOS18 and CLAMP=OFF. </p><p id="ww1453906" class="Body"><span></span>In the following example, there is a conflict between the IOBUF preference for ALLPORTS and the IOBUF preference for Port A.</p><div class="ww_skin_page_overflow"><table class="Code" cellspacing="0" summary=""><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-style: none; padding-bottom: 4px; padding-left: 4px; padding-right: 4px; padding-top: 4px; vertical-align: top; width: 342pt"><pre id="ww1454167" class="Code">IOBUF ALLPORTS PULLMODE=UP;</pre><pre id="ww1454203" class="Code">IOBUF PORT "A" SLEWRATE=SLOW;</pre></td></tr></table></div><p id="ww1454313" class="Body"><span></span>When the design is mapped, the more specific IOBUF preference for Port A will be honored. SLEWRATE will be set to SLOW for Port A, and the PULLMODE setting will revert to the default setting. </p><p id="ww1465550" class="Body"><span></span>In the following example, there is a conflict between the IOBUF preference for ALLPORTS and the IOBUF preference for the “iogroup.”</p><div class="ww_skin_page_overflow"><table class="Code" cellspacing="0" summary=""><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-style: none; padding-bottom: 4px; padding-left: 4px; padding-right: 4px; padding-top: 4px; vertical-align: top; width: 342pt"><pre id="ww1465734" class="Code">IOBUF ALLPORTS IO_TYPE=LVCMOS33 CLAMP=ON;</pre><pre id="ww1465753" class="Code">IOBUF GROUP "iogroup" PULLMODE=UP;</pre></td></tr></table></div><p id="ww1480709" class="Body"><span></span>When the design is mapped, only the IO_TYPE will be maintained from the ALLPORTS preference. PULLMODE will be set to UP for all ports in the “iogroup,” and CLAMP will revert to the default setting. </p><h5 id="ww1480712" class="HeadingRunIn"><span></span>Migrating Designs from Previous Releases</h5><p id="ww1474763" class="Body"><span></span>A design that was created with an earlier Diamond version might be affected by the following precedence rule change in Diamond 3.1: </p><div id="ww1539909" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>An IO_TYPE attribute in the .lpf file is no longer honored when there is a subsequent IOBUF preference in the .lpf file for the same port or port group. The IO_TYPE from the preference that appears first will either revert to the default or to one specified in the preference that appears last.</div><div id="ww1478614" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>A LOC attribute in the HDL will be honored. It will not get overridden by an IOBUF preference as long as there is no LOCATE preference for the same port or port group in the .lpf file. </div><div id="ww1539914" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>A BANK attribute in the HDL will be honored. It will not get overridden by an IOBUF preference as long as there is no IOBUF BANK preference for the same port or port group in the .lpf file.</div><p id="ww1479241" class="Body"><span></span>When you use a design that was created in an earlier version, make sure that you move constraints from the HDL into the LPF file for the IOBUF attributes that you want to maintain.</p><h5 id="ww1480756" class="HeadingRunIn"><span></span>Combining Multiple IOBUF Preferences</h5><p id="ww1480758" class="Body"><span></span>When you have multiple IOBUF preferences in the .lpf file for the same port or port group, make sure that you combine them into one preference.</p><p id="ww1479565" class="Body"><span></span>For example, the following two preferences appear in the .lpf file:</p><div class="ww_skin_page_overflow"><table class="Code" cellspacing="0" summary=""><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-style: none; padding-bottom: 4px; padding-left: 4px; padding-right: 4px; padding-top: 4px; vertical-align: top; width: 342pt"><pre id="ww1479568" class="Code">IOBUF PORT "a" IO_TYPE=LVTTL33 PCICLAMP=ON; </pre></td></tr></table></div><div class="ww_skin_page_overflow"><table class="Code" cellspacing="0" summary=""><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-style: none; padding-bottom: 4px; padding-left: 4px; padding-right: 4px; padding-top: 4px; vertical-align: top; width: 342pt"><pre id="ww1479571" class="Code">IOBUF PORT "a" PULLMODE=DOWN;</pre></td></tr></table></div><p id="ww1476412" class="Body"><span></span>Except for the IO_TYPE, the second of these preferences, which appears last in the .lpf file, will override the first preference. This means that the PCICLAMP=ON will revert to the default OFF setting when the design is mapped. To maintain the PCICLAMP=ON setting, simply combine these two preferences into one.</p><div class="ww_skin_page_overflow"><table class="Code" cellspacing="0" summary=""><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-style: none; padding-bottom: 4px; padding-left: 4px; padding-right: 4px; padding-top: 4px; vertical-align: top; width: 342pt"><pre id="ww1481778" class="Code">IOBUF PORT "a" IO_TYPE=LVTTL33 PULLMODE=DOWN PCICLAMP=ON; </pre></td></tr></table></div><h5 id="ww1476416" class="HeadingRunIn"><span></span>See Also</h5><div id="ww1459827" class="Portal" style="vertical-align: baseline"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../User%20Guides/Constraints/conflicts_hdl_and_preferences.htm#ww1452519" title="Conflicting HDL Attributes, Constraints, and Preferences">Conflicting HDL Attributes, Constraints, and Preferences</a></span></div><div id="ww1462672" class="Portal" style="vertical-align: baseline"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../User%20Guides/Constraints/defining_i_o_type_defaults.htm#ww1467721" title="Defining I/O Defaults">Defining I/O Defaults</a></span></div><div id="ww1462679" class="Portal" style="vertical-align: baseline"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../User%20Guides/Constraints/defining_groups_for_cell_port_and_asic.htm#ww1130208" title="Defining Port, Cell, and ASIC Groups">Defining Port, Cell, and ASIC Groups</a></span></div></div><div id="page_dates"><div class="ww_skin_page_publish_date"></div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript></body></html>