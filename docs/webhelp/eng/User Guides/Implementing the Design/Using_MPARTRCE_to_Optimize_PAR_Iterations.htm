<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Using MPARTRCE to Optimize PAR Iterations</title><link rel="Prev" href="multiple_iterations.htm" title="Previous" /><link rel="Next" href="specifying_preferences_for_mpartrce.htm" title="Next" /><link rel="StyleSheet" href="../../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/design_imp_2.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script><script type="text/javascript" src="../scripts/search-client.js"></script><script type="text/javascript" src="../scripts/unidata.js"></script><script type="text/javascript" src="../scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pDVe9yxs6cDIUSsZDwKxdeg" class="ww_skin_page_body" onload="Page.OnLoad('../../index.htm#page/User%20Guides/Implementing%20the%20Design/Using_MPARTRCE_to_Optimize_PAR_Iterations.htm');"><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><!-- Moved breadcrumbs to bottom of the header so that the print --><!-- button would float to the right of the breadcrumbs. --><!-- PH 4June2019 --><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="../Getting%20Startred/Getting_Started.htm">User Guides</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="implementing_the_design.htm#1104533">Implementing the Design </a> &gt; <a class="WebWorks_Breadcrumb_Link" href="placing_and_routing_a_design.htm#1104533">Place and Route</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="multiple_iterations.htm#1104533">Multiple PAR Iterations</a> &gt; Using MPARTRCE to Optimize PAR Iterations</div></header><div id="page_content_container" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px"><div id="page_content"><h4 id="ww1104533" class="Heading3"><span></span>Using MPARTRCE to Optimize PAR Iterations</h4><p id="ww1104534" class="BodyAfterHead"><span></span>MPARTRCE is a multi-PAR program that uses a performance score for selecting the best iteration. It is available from the command line.</p><h5 id="ww1104535" class="HeadingRunIn"><span></span>Multi-PAR</h5><p id="ww1104536" class="Body"><span></span>When PAR processes design iterations using different placement seeds to produce the best possible placed-and-routed design, it does so by performing and evaluating each design on a timing score basis. See <span class="Hyperlink"><a href="../../User%20Guides/Implementing%20the%20Design/multiple_iterations.htm#ww1104500" title="Multiple PAR Iterations">Multiple PAR Iterations</a></span>. </p><p id="ww1104538" class="Body"><span></span>The timing score is a useful measure for algorithms to perform optimal place-and-route on the design. However, timing score is not necessarily the best criteria to use to select the best iteration with respect to the user’s preference. Furthermore, the timing score becomes zero if all the constraints are met, making the choice of the best implementation random because multiple implementations meet the timing constraints. </p><p id="ww1104539" class="Body"><span></span>In multiple PAR scenarios, you are interested in the implementation that results in the best timing performance. For example, in a single clock design, where the setup and clock-to-out times are not critical, the best iteration is the one that results in the highest f<span style="vertical-align: sub">MAX</span> in static timing analysis. When there are more timing preferences, the best result would be the one that scores best for each of the timing preferences. </p><h5 id="ww1104540" class="HeadingRunIn"><span></span>MPARTRACE Multi-PAR</h5><p id="ww1104541" class="Body"><span></span>The multiple PAR of MPARTRCE continues to use the timing score for PAR algorithms in multiple PAR iterations, but it also employs a measure called performance score for selecting the best iteration.</p><h5 id="ww1104542" class="StepIntro"><span></span>MPARTRCE attempts to do the following:</h5><div id="ww1104543" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Use the existing method for running multiple PAR iterations, each using a different placement seed and using “timing score” criteria for optimizing place and route processes. </div><div id="ww1104544" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Automatically run static timing analysis (TRCE) on the implementation files (.ncd) after each PAR iteration.</div><div id="ww1104545" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Establish a new selection criterion to pick the iteration that best satisfies user preferences and requirements.</div><div id="ww1104546" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Provide options to specify special requirements, preferences, and criteria for selecting the best result.</div><h5 id="ww1104547" class="HeadingRunIn"><span></span>Performance Score</h5><p id="ww1104548" class="Body"><span></span>The MPARTRCE method for selection of the best design uses a performance score in its determination. The Performance Score (PS) is defined as the following:</p><p id="ww1104549" class="Body"><span></span>PS &nbsp;= &nbsp;FS(i) &nbsp;</p><p id="ww1104550" class="Body"><span></span>where "i" is the number of preferences used for PS computation and FSi is the Frequency Score for the ith preference. The Frequency Score (FS) is defined below:</p><p id="ww1104551" class="Body"><span></span>If, (Achieved_time)i &lt; (Required_time)i , </p><p id="ww1104552" class="Body"><span></span>FSi = (Required time - Achieved_time) * wi</p><p id="ww1104553" class="Body"><span></span>else,</p><p id="ww1104554" class="Body"><span></span>FSi = (Required time- Achieved_time) * pi</p><p id="ww1104555" class="Body"><span></span>where wi is the weight factor for the ith preference and pi is the penalty factor for the ith preference. The weight factor is associated with positive slack (timing preference met) and penalty with negative slack (timing preference violated).</p><p id="ww1104556" class="Body"><span></span>The performance score is calculated for each iteration’s implementation result (.ncd file), and the one with the highest (algebraic maximum) performance score is selected as the best result. </p><p id="ww1104557" class="Body"><span></span>Preferences and achieved results that are in frequency domain will be converted to the corresponding time domain values and used in performance score equations. </p><h5 id="ww1104558" class="HeadingRunIn"><span></span>MPARTRCE Process</h5><p id="ww1104559" class="BodyAfterHead"><span></span>MPARTRCE executes the following operations:</p><div id="ww1104560" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>1.	</span></span>Reads in the constraints from the physical preference file (.prf) and determines the weights and penalties based upon a specific .ini file and user overrides.</div><div id="ww1104561" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>2.	</span></span>Runs PAR, TRCE and result selection algorithms multiple times. During result selection, it parses the TRACE report for the values of interest, determines the frequency and performance scores, and creates a report in .csv format.</div><div id="ww1104562" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>3.	</span></span>After all the iterations, copies the implementation and report files corresponding to the best result from the results directory into the project directory and creates the log file.</div><p id="ww1104563" class="Body"><span></span>If you break the process after any iteration N, the results and reports correspond to the best implementation to that point. The outputs would be equivalent to what you would have obtained if you had run multiple PAR to N iterations.</p><h5 id="ww1104564" class="HeadingRunIn"><span></span>See Also</h5><div id="ww1104568" class="Portal" style="vertical-align: baseline"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../User%20Guides/Implementing%20the%20Design/specifying_preferences_for_mpartrce.htm#ww1104580" title="Specifying Preferences for MPARTRCE">Specifying Preferences for MPARTRCE</a></span></div><div id="ww1104572" class="Portal" style="vertical-align: baseline"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../Reference%20Guides/Command%20Line/Running_MPARTRCE_from_the_Command_Line.htm#ww1168904" title="Running MPARTRCE from the Command Line">Running MPARTRCE from the Command Line</a></span></div><div id="ww1104576" class="Portal" style="vertical-align: baseline"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../User%20Guides/Implementing%20the%20Design/multiple_iterations.htm#ww1104500" title="Multiple PAR Iterations">Multiple PAR Iterations</a></span></div></div><div id="page_dates"><div class="ww_skin_page_publish_date"></div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript></body></html>