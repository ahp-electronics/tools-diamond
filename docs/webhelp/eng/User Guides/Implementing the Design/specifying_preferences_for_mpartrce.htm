<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Specifying Preferences for MPARTRCE</title><link rel="Prev" href="Using_MPARTRCE_to_Optimize_PAR_Iterations.htm" title="Previous" /><link rel="Next" href="design_imp_2.16.28.htm" title="Next" /><link rel="StyleSheet" href="../../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/design_imp_2.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script><script type="text/javascript" src="../scripts/search-client.js"></script><script type="text/javascript" src="../scripts/unidata.js"></script><script type="text/javascript" src="../scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="prL4LOrtE0Ye0_002bJ9fYdGBLA" class="ww_skin_page_body" onload="Page.OnLoad('../../index.htm#page/User%20Guides/Implementing%20the%20Design/specifying_preferences_for_mpartrce.htm');"><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><!-- Moved breadcrumbs to bottom of the header so that the print --><!-- button would float to the right of the breadcrumbs. --><!-- PH 4June2019 --><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="../Getting%20Startred/Getting_Started.htm">User Guides</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="implementing_the_design.htm#1104580">Implementing the Design </a> &gt; <a class="WebWorks_Breadcrumb_Link" href="placing_and_routing_a_design.htm#1104580">Place and Route</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="multiple_iterations.htm#1104580">Multiple PAR Iterations</a> &gt; Specifying Preferences for MPARTRCE</div></header><div id="page_content_container" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px"><div id="page_content"><h4 id="ww1104580" class="Heading3"><span></span>Specifying Preferences for MPARTRCE</h4><p id="ww1104581" class="BodyAfterHead"><span></span>To direct MPARTRCE to perform its intended function, you must accurately guide the tool by setting your timing preferences properly in the PAR physical preference (.prf) file. You can edit preferences in your text editor of choice.</p><p id="ww1104582" class="Body"><span></span>If some of the preferences in the .prf file are not required for result selection or if you must change the values in the file for result selection, a different preference file can be specified for TRACE (trce) and result selection purposes. </p><p id="ww1104583" class="Body"><span></span>In the MPARTRCE command line, this mpartrce.prf file can be named anything and supplied using the <span class="GUI">-</span>tpr option. The mpartrce.prf file can contain any subset of the PAR preference file. If mpartrce.prf exists and is specified in the command line, then that file is used for trce and result selection purposes. Only the timing preferences and their values in the mpartrce.prf file will be used for performance score computation and result selection. In GUI mode, the preference file will have to be named "mpartrce.prf" and must reside in the project directory. The GUI option is not currently supported. </p><h5 id="ww1104584" class="HeadingRunIn"><span></span>Overriding weights and penalties</h5><p id="ww1104585" class="Body"><span></span>Performance score computation uses different penalty and weight factors for each timing preference. Default weights and penalties are defined for each preference group (f<span style="vertical-align: sub">MAX</span>, t<span style="vertical-align: sub">PD</span>, t<span style="vertical-align: sub">SU</span> and t<span style="vertical-align: sub">CO</span>) in the mpartrce program. It is possible for the advanced users to override these defaults by individually specifying relative weights and penalties for each timing preference line. </p><p id="ww1104586" class="Body"><span></span>The weight and penalty values are specified as comments at the end of each preference line. A comment symbol (#) is placed at the end of the preference line and is followed by the lowercase letter w for weight and the value for weight. Similarly the penalty factor is entered by the lowercase letter p followed by the actual penalty factor value. The preferences that do not have overriding w or p value will use the default values. </p><p id="ww1105377" class="Body"><span></span>The following sample preference lines and the corresponding weight/penalty override values illustrate the override mechanism.</p><div class="ww_skin_page_overflow"><table class="borderlessCode" style="margin-left: 0pt; margin-right: 0pt; text-align: left" cellspacing="0" summary=""><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: solid; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: solid; border-right-width: 0px; border-top-style: none; padding-bottom: 0px; padding-left: 4px; padding-right: 4px; padding-top: 4px; vertical-align: top"><pre id="ww1105393" class="Code">FREQUENCY NET "clk_tx" 200.000000 MHz ; # w 20 p 400</pre><pre id="ww1105394" class="Code">&nbsp;&nbsp;New weight for clk_tx = (default weight) * 20 </pre><pre id="ww1105395" class="Code">&nbsp;&nbsp;New penalty for clk_tx = (default penalty) * 400<br />&nbsp;</pre><pre id="ww1105396" class="Code">FREQUENCY PORT "clk_rx" 150.000000 MHz ; # p 100</pre><pre id="ww1105397" class="Code">&nbsp;&nbsp;New weight for clk_rx = (default weight) </pre><pre id="ww1105398" class="Code">&nbsp;&nbsp;New penalty for clk_rx = (default penalty) * 100<br />&nbsp;</pre><pre id="ww1105399" class="Code">INPUT_SETUP ALLPORTS 3.000000 ns CLKPORT "clk" ; # w 0.5 p 2</pre><pre id="ww1105400" class="Code">&nbsp;&nbsp;New weight for Tsu for clk = (default weight) * 0.5</pre><pre id="ww1105401" class="Code">&nbsp;&nbsp;New penalty for Tsu for clk = (default penalty) * 2<br />&nbsp;</pre><pre id="ww1105402" class="Code">CLOCK_TO_OUT ALLPORTS 7.000000 ns CLKPORT "clk" ; # w 2 </pre><pre id="ww1105403" class="Code">&nbsp;&nbsp;New weight for clk_tx = (default weight) * 2 </pre><pre id="ww1105404" class="Code">&nbsp;&nbsp;New penalty for clk_tx = (default penalty) </pre><pre id="ww1105385" class="Code">&nbsp;</pre></td></tr></table></div><p id="ww1104600" class="Body"><span></span>The w/p overrides can be specified either in the PAR preference (.prf) file or the timing preference (.tpf) file. The additional preference values specified do not affect the PAR results as they are used only by trce and in the result selection processes. The weights and preference overrides in either preference files do not affect PAR or TRACE programs as they appear as comments for those programs. </p><div class="ww_skin_page_overflow"><table class="Note" cellspacing="0" summary=""><caption class="NoteTitle" style="caption-side: top"><div id="ww1104603" class="NoteTitle">Note</div></caption><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: none; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: none; border-right-width: 0px; border-top-color: #E5E5E5; border-top-style: none; border-top-width: 1.0pt; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 4px; vertical-align: top"><div id="ww1104605" class="CellBody"><span></span>Any manual change to the PAR preference file will be lost when a MAP is re-run on the design.</div></td></tr></table></div><h5 id="ww1104606" class="HeadingRunIn"><span></span>Preference file and override options</h5><p id="ww1104607" class="Body"><span></span>The following are the different options that can be used:</p><div id="ww1104608" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Use only the PAR preference file (&lt;proj_name&gt;.prf) and specify no overrides. Here are some things to consider when using this option: </div><div id="ww1104609" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>You do not need to create additional files or edit the .prf file.</div><div id="ww1104610" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>You have to rely on over-constrained preference values.</div><div id="ww1104611" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>You cannot remove an unneeded preference line.</div><div id="ww1104612" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>You cannot override the default priorities for timing preferences.</div><div id="ww1104613" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Use only the PAR preference file (&lt;proj_name&gt;.prf), but manually add w/p overrides. Here are some things to consider when using this option:</div><div id="ww1104614" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>You do not need to create additional files.</div><div id="ww1104615" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>You have to rely on over-constrained preference values.</div><div id="ww1104616" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>You cannot remove an unnecessary preference line. </div><div id="ww1104617" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>You can override the default priorities for timing preferences by specifying w and p. Indirectly, this can eliminate the effect of retaining unnecessary preferences on the performance score.</div><div id="ww1104618" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>The PAR preference file will get overwritten if you re-run map, and all the w/p overrides appearing as comments will be removed.</div><div id="ww1104619" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Manually create a Timing preference (.tpf) file and specify no overrides. Here are some things to consider when using this option:</div><div id="ww1104620" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>The Timing preference (.tpf) file can be easily created by copying the PAR preference file. Map can be re-run without affecting this preference file.</div><div id="ww1104621" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Over-constrained preference values can be replaced with reasonable values required for result selection.</div><div id="ww1104622" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Unwanted preferences can be removed.</div><div id="ww1104623" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>You have to be content with default weight and penalty factors. </div><div id="ww1104624" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Manually create a Timing preference (.tpf) file and add w/p overrides to the preferences in it. Here are some things to consider when using this option:</div><div id="ww1104625" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>The Timing preference (.tpf) file can be easily created by copying the PAR preference file. MAP can be re-run without affecting this preference file or the w/p overrides.</div><div id="ww1104626" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Over-constrained preference values can be replaced with reasonable values required for result selection.</div><div id="ww1104627" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Unwanted preferences can be removed.</div><div id="ww1104628" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Weight and penalty values can be overridden as required to have complete control on the result selection method</div><h5 id="ww1104629" class="HeadingRunIn"><span></span>See Also</h5><div id="ww1104633" class="Portal" style="vertical-align: baseline"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../Reference%20Guides/Command%20Line/Running_MPARTRCE_from_the_Command_Line.htm#ww1168904" title="Running MPARTRCE from the Command Line">Running MPARTRCE from the Command Line</a></span></div><div id="ww1104637" class="Portal" style="vertical-align: baseline"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../User%20Guides/Implementing%20the%20Design/Using_MPARTRCE_to_Optimize_PAR_Iterations.htm#ww1104533" title="Using MPARTRCE to Optimize PAR Iterations">Using MPARTRCE to Optimize PAR Iterations</a></span></div><div id="ww1104641" class="Portal" style="vertical-align: baseline"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../User%20Guides/Implementing%20the%20Design/multiple_iterations.htm#ww1104500" title="Multiple PAR Iterations">Multiple PAR Iterations</a></span></div></div><div id="page_dates"><div class="ww_skin_page_publish_date"></div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript></body></html>