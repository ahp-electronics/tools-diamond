<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Avoiding Common Design Flow Issues</title><link rel="Prev" href="General_Synthesis_Recommendations.htm" title="Previous" /><link rel="Next" href="Troubleshooting_Error_and_Warning_Messages.htm" title="Next" /><link rel="StyleSheet" href="../../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/recommendations_inc_flow.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script><script type="text/javascript" src="../scripts/search-client.js"></script><script type="text/javascript" src="../scripts/unidata.js"></script><script type="text/javascript" src="../scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="paGvAfCaOHVUKpkb5bPHizg" class="ww_skin_page_body" onload="Page.OnLoad('../../index.htm#page/User%20Guides/Incremental%20Design/Avoiding_Common_Design_Flow_Issues.htm');"><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><!-- Moved breadcrumbs to bottom of the header so that the print --><!-- button would float to the right of the breadcrumbs. --><!-- PH 4June2019 --><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="../Getting%20Startred/Getting_Started.htm">User Guides</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="intro.htm#983165">Using Incremental Design Flow</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="Recommended_Strategies_for_Incremental_Design.htm#983165">Recommended Strategies for Incremental Design</a> &gt; Avoiding Common Design Flow Issues</div></header><div id="page_content_container" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px"><div id="page_content"><h3 id="ww983165" class="Heading2"><span></span>Avoiding Common Design Flow Issues</h3><p id="ww986985" class="BodyAfterHead"><span></span>You should go about using the Incremental Design flow as prescribed in this guide in a step-by-step fashion to ensure that you have initiated the flow correctly and you get the expected outputs when you run it. It is probable in these cases you have not performed a step and this has prevented Diamond from recognizing your active implementation of your project as an incremental design. </p><p id="ww986992" class="Body"><span></span>See <span class="Hyperlink"><a href="../../User%20Guides/Incremental%20Design/Troubleshooting_Error_and_Warning_Messages.htm#ww1132634" title="Troubleshooting Error and Warning Messages">Troubleshooting Error and Warning Messages</a></span> on diagnosing common usage issues. </p><h5 id="ww982852" class="HeadingRunIn"><span></span>Defining Design Partitions</h5><p id="ww982897" class="BodyAfterHead"><span></span>How you define your partitions is design-dependent and will have an impact on how effective using the Incremental Design flow in Diamond will be. This section provides you with useful information you can employ when you are defining partitions with compile points when you are creating your .fdc file in Synplify Pro. </p><p id="ww982970" class="Body"><span></span>Below is a list of factors involved in defining partitions that can effect the quality of results you might achieve using the Incremental Design flow. The list also includes how partitions are treated in regard to resource utilization. </p><p id="ww983102" class="Body"><span></span>The following describe how partitions can affect the incremental design flow: </p><h5 id="ww982901" class="HeadingRunIn"><span></span>Number of Partitions</h5><p id="ww982903" class="Body"><span></span>It is recommended that you limit the number of partitions in your design to a reasonable figure, for example, 30, with respect to the percent partitions in total utilization which is described later in this section. If your design has too many partitions it will lose the global placement picture. Also, it is best to contain the portions of the design that could change to the smallest partition possible, thus preserving other parts of the design. As a general rule, if more than about 10 percent of the design is changing, it is usually advisable to re-run an unguided incremental pass.</p><p id="ww984867" class="Body"><span></span>As a recommended practice, you should not change the number of partitions in your design when running guided iterations, or you may encounter unexpected results. Defining what gets partitioned in your design should be done prior to using an NCD reference design for more incremental changes. </p><h5 id="ww982907" class="HeadingRunIn"><span></span>Size of Partitions</h5><p id="ww982909" class="Body"><span></span>There is no size limit for a design partition. In general, partition size is defined by a given functional module where a compile point is applied. However, any changes to a large partition can result in significant changes in how Map and PAR pack, place and route components and hence your Fmax result as well. </p><h5 id="ww984262" class="HeadingRunIn"><span></span>Shape of Partition Regions</h5><p id="ww984278" class="BodyAfterHead"><span></span>A partition’s region is always in the shape of a rectangle. A non-rectangular shape is not allowed. However, overlapping among partitions is allowed in the Incremental Design flow to achieve optimal results.</p><h5 id="ww982913" class="HeadingRunIn"><span></span>Percent Partitions in Total Utilization</h5><p id="ww982915" class="Body"><span></span>It is suggested that at least 75 percent of your incremental design is covered by partition instances. To find out what percentage of your design is covered by partitions, look at the “PARTITION Utilization” section in the Map Report (.mrp) file. This section of the file is shown below to illustrate how this percentage is given along with the total number of design partitions: </p><pre id="ww984702" class="Code">Total comps 450 (92.78%) in 65 partitions.</pre><p id="ww984715" class="Body"><span></span>Please understand that the limit on the number of design partitions mentioned previously in this section is a more critical factor in the successful implementation of your incremental design. </p><h5 id="ww984703" class="HeadingRunIn"><span></span>Components within Partitions</h5><p id="ww984704" class="Body"><span></span>Understand that partition BBOX definitions keep those components in a particular design partition confined to a region that is SLICE-based but the region will not include in its boundaries the placement of special elements such as EBRs, DSP, and DDR because they are row-based. However, EBR and DSP will be placed close to a relative partition.</p><p id="ww983368" class="Body"><span></span>So, the BBOX definition does not affect the placement of these special elements at all, only logic that is placed in SLICE components or PFU/PFF elements. If you want to place special elements within a specific physical region, use the UGROUP or LOCATE preferences as appropriate. In addition, due to architecture limitations, not all global resources will be able to be included in an individual partition. For example, global resources such as PLL, DLL, PCS, DCS, CLKDIV, and DLLDEL may not be used in the same partitions due to complicated rules and shape of ring. PIO/IOL (particularly clock PIO) are considered a global resource as well, which means PIO/IOL will not be included in a partition.</p><div class="ww_skin_page_overflow"><table class="Note" cellspacing="0" summary=""><caption class="NoteTitle" style="caption-side: top"><div id="ww984561" class="NoteTitle">Note</div></caption><tr><td style="background-color: White; border-bottom-color: #E5E5E5; border-bottom-style: none; border-bottom-width: 1px; border-left-style: none; border-right-color: #E5E5E5; border-right-style: none; border-right-width: 0px; border-top-color: #E5E5E5; border-top-style: none; border-top-width: 1.0pt; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 4px; vertical-align: top"><div id="ww984563" class="CellBody"><span></span>Any conflict between a user preference and a partition definition must be resolved by the user. The placer will simply error out when encounters a conflict, such as a PGROUP or carry-chain crossing different partitions.</div></td></tr></table></div><h5 id="ww983374" class="HeadingRunIn"><span></span>Placement Variability in Guided Iterations</h5><p id="ww983375" class="BodyAfterHead"><span></span>It is important to understand how guided iterations use the reference design to guide placement. The major concept to understand is that when you are using the incremental flow, the default settings in the data file preserve placement of the reference design unless the design’s source HDL changes. This is implemented that way by design. </p><p id="ww983425" class="Body"><span></span>So, you need to be aware that a poor placement result will be preserved as readily as a good placement result. For this reason, we recommend that you get your design close to timing closure in the unguided iteration run flow mode before switching to the guided iteration run flow mode. </p><p id="ww983408" class="Body"><span></span>You should expect to see no variation in timing inside a partition with unchanged HDL in incremental flow when you run multiple cost tables with default data file settings. Also, if you attempt to change placement in the guided iteration by changing UGROUP or LOCATE preferences, you may see unexpected results. See <span class="Hyperlink"><a href="../../User%20Guides/Incremental%20Design/Troubleshooting_Error_and_Warning_Messages.htm#ww1132634" title="Troubleshooting Error and Warning Messages">Troubleshooting Error and Warning Messages</a></span> for related issues. </p><h5 id="ww983391" class="HeadingRunIn"><span></span>Handling Timing Issues in Guided Iterations</h5><p id="ww983379" class="BodyAfterHead"><span></span>If you are already in guided iteration and are seeing timing errors reported in your TRACE report, you have the following three options: </p><div id="ww983380" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>Go back to unguided iteration run flow mode. This would be the appropriate choice if you believe changes to the partition planning or major HDL changes throughout the design are required. </div><div id="ww983381" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>If the timing errors can be addressed by making HDL changes (e.g., adding pipeline stages), stay in guided run flow mode and use default preservation data and re-implementation effort settings for all partitions.</div><div id="ww983382" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>If you believe the timing errors could be addressed by allowing some variability into the placement of a partition where HDL is not changed, you can achieve this by changing settings through the Partition Manager. </div><div id="ww983498" class="Indented">To do this, open Partition Manager, and for all partitions that you want variability, change their preservation data to “mapped” and reimplementation effort to ‘guided.” Then, run multiple cost tables and force a PAR rerun. After doing this you will see some variability in the result for that partition within the constraints of the partition planning that appear in the data file.</div><h5 id="ww983384" class="HeadingRunIn"><span></span>Adding Pipeline Registers to Incremental Designs</h5><p id="ww983386" class="BodyAfterHead"><span></span>The Incremental Design flow is well suited to the case where you want to add pipeline registers and keep the rest of the design unchanged for placement. In guided iteration run flow mode, add the registers to your HDL and rerun the flow. No manual intervention should be necessary. </p><p id="ww983533" class="Body"><span></span>If for some reason you require that the new registers go into a specific area that is within their partition boundary and that has enough open sites to place the new registers, you can do this. In this particular case, add a UGROUP to the new registers with bounding box (BBOX) and anchor point (SITE). Note that this is only an option with changed logic. For more information, see the troubleshooting section on UGROUPs in incremental mode.</p></div><div id="page_dates"><div class="ww_skin_page_publish_date"></div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript></body></html>