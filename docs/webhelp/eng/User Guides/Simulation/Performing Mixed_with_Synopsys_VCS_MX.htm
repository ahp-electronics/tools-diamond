<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Performing Mixed-Language (Verilog and VHDL) Simulation with Synopsys VCS-MX</title><link rel="Prev" href="Performing_Simulation_with_Synopsys_VCS.htm" title="Previous" /><link rel="Next" href="Performing_Mixed_with%20Synopsys_VCSMX.htm" title="Next" /><link rel="StyleSheet" href="../../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/simulation.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script><script type="text/javascript" src="../scripts/search-client.js"></script><script type="text/javascript" src="../scripts/unidata.js"></script><script type="text/javascript" src="../scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pXlxd1oZ7VHPVQVYpg_002f50JQ" class="ww_skin_page_body" onload="Page.OnLoad('../../index.htm#page/User%20Guides/Simulation/Performing%20Mixed_with_Synopsys_VCS_MX.htm');"><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><!-- Moved breadcrumbs to bottom of the header so that the print --><!-- button would float to the right of the breadcrumbs. --><!-- PH 4June2019 --><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="../Getting%20Startred/Getting_Started.htm">User Guides</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="simulating_the_design.htm#1025733">Simulating the Design</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="Third_Party_Simulators.htm#1025733">Third-Party Simulators</a> &gt; Performing Mixed-Language (Verilog and VHDL) Simulation with Synopsys VCS-MX</div></header><div id="page_content_container" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px"><div id="page_content"><h3 id="ww1025733" class="Heading2"><span></span>Performing Mixed-Language (Verilog and VHDL) Simulation with Synopsys VCS-MX</h3><p id="ww1025734" class="BodyAfterHead"><span></span>In order to run mixed-language simulation with VCS, you must have a special license for VCS-MX. Contact Synopsys if you do not have one.</p><p id="ww1025738" class="Body"><span></span><span class="Hyperlink"><a href="../../User%20Guides/Simulation/Performing_Simulation_with_Synopsys_VCS.htm#ww1025714" title="Performing Simulation with Synopsys VCS">Performing Simulation with Synopsys VCS</a></span> describes how to simulate a Verilog-only design by simply using the vcs command. In order to simulate a VHDL-only or a Verilog/VHDL mixed-language design, extra steps are required (with extra commands). In general, if your design contains VHDL source code, you must analyze it by using the vhdlan utility. And, if your VHDL design instantiates a Verilog design within it, you must use the vlogan utility. Mixed-language designs are categorized into either VHDL-top or Verilog-top designs, where each one has its own procedure for running the simulation with VCS-MX tools. For more details, refer to the <span style="font-style: italic">VCS MX/VCS MXi User Guide</span>.</p><p id="ww1025739" class="Body"><span></span>Following is an example of the procedure used for simulating a Verilog/VHDL mixed-language design that consists of your own VHDL design files, the ECP5U VHDL library source files, and the ECP5U black boxes encrypted Verilog source file.</p><div id="ww1025740" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>1.	</span></span>Create local folders for the ECP5U VHDL and the work libraries:</div><pre id="ww1025741" class="CodeIndented">mkdir ecp5u_vhdl work</pre><div id="ww1025742" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>2.	</span></span>Create (or modify) your local synopsys_sim.setup file, and add the following lines:</div><pre id="ww1025743" class="CodeIndented">WORK &gt; DEFAULT</pre><pre id="ww1025744" class="CodeIndented">DEFAULT : ./work</pre><pre id="ww1025745" class="CodeIndented">ECP5U: ./ecp5u_vhdl</pre><div id="ww1038838" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>3.	</span></span>Analyze the ECP5U VHDL library:</div><pre id="ww1038839" class="CodeIndented">vhdlan –work ECP5U &lt;<span style="font-style: italic">ecp5u_vhdl_src_folder</span>&gt;/ECP5UCOMP.vhd \</pre><pre id="ww1038840" class="CodeIndented">&lt;<span style="font-style: italic">ecp5u_vhdl_src_folder</span>&gt;/ECP5U_SEQ.vhd \</pre><pre id="ww1038870" class="CodeIndented">&lt;<span style="font-style: italic">ecp5u_vhdl_src_folder</span>&gt;/ECP5U_IO.vhd \</pre><pre id="ww1025750" class="CodeIndented">&lt;<span style="font-style: italic">ecp5u_vhdl_src_folder</span>&gt;/ORCA_CMB.vhd \</pre><pre id="ww1038888" class="CodeIndented">&lt;<span style="font-style: italic">ecp5u_vhdl_src_folder</span>&gt;/ORCA_MEM.vhd \</pre><pre id="ww1025751" class="CodeIndented">&lt;<span style="font-style: italic">ecp5u_vhdl_src_folder</span>&gt;/ORCA_MISC.vhd \</pre><pre id="ww1038907" class="CodeIndented">&lt;<span style="font-style: italic">ecp5u_vhdl_src_folder</span>&gt;/ORCA_LUT.vhd \</pre><pre id="ww1038930" class="CodeIndented">&lt;<span style="font-style: italic">ecp5u_vhdl_src_folder</span>&gt;/gsr_pur_assign.vhd</pre><pre id="ww1038975" class="CodeIndented">vlogan –work ECP5U &lt;<span style="font-style: italic">ecp5u_vhdl_src_folder</span>&gt;/*.v</pre><pre id="ww1039002" class="CodeIndented">vhdlan –work ECP5U &lt;<span style="font-style: italic">ecp5u_vhdl_src_folder</span>&gt;/ECP5U_SL.vhd</pre><div id="ww1039065" class="Indented">where <span style="font-size: 9.0pt; font-style: italic">&lt;</span><span style="font-size: 9.0pt; font-style: italic">ecp5u_vhdl_src_folder</span><span style="font-size: 9.0pt; font-style: italic">&gt;</span> refers to <span style="font-size: 9.0pt; font-style: italic">&lt;install_dir</span><span style="font-size: 9.0pt">&gt;</span><span style="font-size: 9.0pt; font-weight: bold">/</span><span style="font-size: 9.0pt">cae_library</span><span style="font-size: 9.0pt; font-weight: bold">/</span><span style="font-size: 9.0pt">simulation/vhdl/ecp5u/src</span>.</div><div id="ww1039066" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>4.	</span></span>Analyze the Lattice black box modules from the encrypted Verilog source as follows:</div><pre id="ww1039067" class="CodeIndented">vlogan –work ECP5U <span style="font-style: italic">&lt;install_dir&gt;</span>/cae_library/simulation/blackbox/ecp5u_black_boxes-vcs.vp</pre><pre id="ww1025756" class="CodeIndented">&nbsp;</pre><div id="ww1025757" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>5.	</span></span>Analyze your VHDL design and test bench files:</div><pre id="ww1025758" class="CodeIndented">vhdlan <span style="font-style: italic">&lt;design_name&gt;</span>.vhd <span style="font-style: italic">&lt;test_bench&gt;</span>.vhd</pre><div id="ww1025759" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>6.	</span></span>Compile the simulation executable from your top-level unit (test bench):</div><pre id="ww1025760" class="CodeIndented">scs –mhdl &lt;<span style="font-style: italic">test_bench</span>&gt;</pre><div id="ww1025761" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>7.	</span></span>Simulate your test bench by running the simulation executable:</div><pre id="ww1025762" class="CodeIndented">scsim</pre><h5 id="ww1029320" class="HeadingRunIn"><span></span>See Also</h5><p id="ww1029324" class="Body" style="vertical-align: baseline"><span></span><span class="Hyperlink"><a href="../../User%20Guides/Simulation/Third_Party_Simulators.htm#ww1028923" title="Third-Party Simulators">Third-Party Simulators</a></span></p></div><div id="page_dates"><div class="ww_skin_page_publish_date"></div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript></body></html>