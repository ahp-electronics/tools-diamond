<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Referencing Black-Box Models</title><link rel="Prev" href="Performing_Mixed_with%20Synopsys_VCSMX.htm" title="Previous" /><link rel="Next" href="Using_the_Global_Set_Reset_Signal.htm" title="Next" /><link rel="StyleSheet" href="../../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/simulation.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script><script type="text/javascript" src="../scripts/search-client.js"></script><script type="text/javascript" src="../scripts/unidata.js"></script><script type="text/javascript" src="../scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pN80RHqJkXarlh2abOL4eMoQ" class="ww_skin_page_body" onload="Page.OnLoad('../../index.htm#page/User%20Guides/Simulation/Referencing_Black_Box_Models.htm');"><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><!-- Moved breadcrumbs to bottom of the header so that the print --><!-- button would float to the right of the breadcrumbs. --><!-- PH 4June2019 --><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="../Getting%20Startred/Getting_Started.htm">User Guides</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="simulating_the_design.htm#1025763">Simulating the Design</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="Third_Party_Simulators.htm#1025763">Third-Party Simulators</a> &gt; Referencing Black-Box Models</div></header><div id="page_content_container" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px"><div id="page_content"><h3 id="ww1025763" class="Heading2"><span></span>Referencing Black-Box Models</h3><p id="ww1025764" class="BodyAfterHead"><span></span>Some high-value models, such as ECP5UM DCU, are not distributed as HDL open source. In these cases, either HDL encrypted sources or pre-compiled libraries are provided for the respective simulator. By default, Diamond installs archives for each encrypted or pre-compiled model in the following directory:</p><pre id="ww1025765" class="Code"><span style="font-style: italic">&lt;install_dir&gt;</span>\cae_library\simulation\blackbox</pre><p id="ww1025766" class="Body"><span></span>For older devices (LatticeSC, LatticeEC, LatticeECP, LatticeECP2, LatticeECP3, LatticeXP, LatticeXP2, Platform Manager and MachXO), each file or folder name indicates the model and simulator supported using the following format:</p><pre id="ww1025767" class="Code">&lt;<span style="font-style: italic">model</span>&gt;[-aldec|-ncv|-vcs].vp | folder &lt;<span style="font-style: italic">model</span>&gt;/</pre><p id="ww1025768" class="Body"><span></span>where:</p><div id="ww1025769" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>&lt;<span style="font-size: 9.0pt; font-style: italic">model</span>&gt; is the name of the Verilog simulation model.</div><div id="ww1035240" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span style="font-size: 9.0pt">-aldec</span> indicates that the model is provided as encrypted Verilog source for the Aldec Riviera Pro simulator. These models can also be compiled for Aldec Active-HDL simulator.</div><div id="ww1035259" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><code class="Code">-ncv</code> indicates that the model is provided as encrypted Verilog source for the Cadence NCSim simulator.</div><div id="ww1035260" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><code class="Code">-vcs</code> indicates that the model is provided as encrypted Verilog source for the Synopsys VCS simulator.</div><div id="ww1035449" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span>&lt;<span style="font-size: 9.0pt; font-style: italic">model</span>&gt;/ is a folder indicating that the model is available as a pre-compiled library for the Mentor Graphics ModelSim / Questa simulator, but it is recommended to use the Lattice-provided pre-compiled libraries for Modelsim simulator located at (<span style="font-style: italic">install_folder</span>)/modeltech/lib.</div><p id="ww1035450" class="Body"><span></span>For example, the file JTAGA-vcs.vp contains the JTAGA encrypted Verilog model for Synopsys VCS.</p><p id="ww1036025" class="Body"><span></span>For newer devices (ECP5U, MachXO2, MachXO3D, MachXO3L and Platform Manager 2), all the black-box models for each device family are contained in a single .vp file or a single folder for each simulator, in the following format:</p><pre id="ww1036122" class="Code">&lt;<span style="font-style: italic">device</span>&gt;_black_boxes[-aldec|-ncv|-vcs].vp | folder &lt;<span style="font-style: italic">device</span>&gt;_black_boxes/</pre><p id="ww1036123" class="Body"><span></span>Some Verilog models are pre-compiled or encrypted differently for VHDL. Those models will have the following format:</p><pre id="ww1028347" class="Code">[&lt;<span style="font-style: italic">model</span>&gt;|&lt;<span style="font-style: italic">device</span>&gt;_black_boxes]_vhdlib[-aldec|-ncv|-vcs].vp | folder [&lt;<span style="font-style: italic">model</span>&gt;|&lt;<span style="font-style: italic">device</span>&gt;_black_boxes]_vhdlib/</pre><p id="ww1028336" class="Body"><span></span>If the models are supplied as encrypted Verilog models, you must compile them with other source files for the same device into the same library (both Verilog and VHDL) for the respective simulator. Refer to each respective section for each third-party simulator in <span class="Hyperlink"><a href="../../User%20Guides/Simulation/Third_Party_Simulators.htm#ww1028923" title="Third-Party Simulators">Third-Party Simulators</a></span>.</p><p id="ww1028375" class="Body"><span></span>For ModelSim / Questa pre-compiled libraries, if you have a higher version of ModelSim / Questa simulator, you need to refresh the library as follows:</p><p id="ww1028381" class="Body" style="vertical-align: baseline"><span></span><code class="Code">vlog -refresh -work &lt;library_name&gt;</code></p><p id="ww1028376" class="Body"><span></span>For VCS encrypted sources, make sure you compile the files for Verilog, but not for SystemVerilog. For example, use the +v2k option. </p><p id="ww1036858" class="Body"><span></span>If a README file is provided, examine it in each archive file for any further compilation instructions.</p><h5 id="ww1036864" class="HeadingRunIn"><span></span>See Also</h5><p id="ww1029359" class="Body" style="vertical-align: baseline"><span></span><span class="Hyperlink"><a href="../../User%20Guides/Simulation/Third_Party_Simulators.htm#ww1028923" title="Third-Party Simulators">Third-Party Simulators</a></span></p></div><div id="page_dates"><div class="ww_skin_page_publish_date"></div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript></body></html>