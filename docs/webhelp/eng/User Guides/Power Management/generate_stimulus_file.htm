<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Generating a Stimulus and Test Bench File</title><link rel="Prev" href="simulate_pm2_design.htm" title="Previous" /><link rel="Next" href="simulating_design_pojo2.htm" title="Next" /><link rel="StyleSheet" href="../../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/power_mgnt.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script><script type="text/javascript" src="../scripts/search-client.js"></script><script type="text/javascript" src="../scripts/unidata.js"></script><script type="text/javascript" src="../scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pLheWDeEVFr_002fXZV0A8A2Ncg" class="ww_skin_page_body" onload="Page.OnLoad('../../index.htm#page/User%20Guides/Power%20Management/generate_stimulus_file.htm');"><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><!-- Moved breadcrumbs to bottom of the header so that the print --><!-- button would float to the right of the breadcrumbs. --><!-- PH 4June2019 --><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="../Getting%20Startred/Getting_Started.htm">User Guides</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="designing_power_mgnt_systems.htm#1022268">	Designing with Lattice Diamond Platform Designer</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="simulate_pm2_design.htm#1022268">Simulating the Design</a> &gt; Generating a Stimulus and Test Bench File</div></header><div id="page_content_container" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px"><div id="page_content"><h3 id="ww1022268" class="Heading2"><span></span>Generating a Stimulus and Test Bench File</h3><p id="ww1022269" class="BodyAfterHead"><span></span>After the design has been compiled successfully, you can specify the connections and signals for functional simulation. Platform Designer uses this information, plus the port-related information from the FPGA top-level HDL and the ASC configuration files, to generate a stimulus file and a test bench file.</p><h5 id="ww1022270" class="StepIntro"><span></span>To generate a stimulus file and a test bench file:</h5><div id="ww1041556" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>1.	</span></span>In the Build view of Platform Designer, click the <span style="font-weight: bold">Generate Stimulus</span> button.</div><div id="ww1041557" class="Indented">The dialog box opens to the “Connections between FPGA and ASCs” page. The “From” and “To” sections, at the top, list all the FPGA ports and ASC signals that you can use to establish new board-level connections. The “Connection” section, at the bottom, displays the default hardware connections between the FPGA and all ASC devices in the design. These cannot be edited or removed.</div><div class="ww_skin_page_overflow"><div id="ww1022356" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>2.	</span></span>Click the “<span style="font-weight: bold">add connection</span>” button <img class="Default" src="../../User%20Guides/Power%20Management/images/power_mgnt.03.61.1.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 20px; max-width: 20px; top: 0.0pt" alt="" title="" /> on the bottom left. </div></div><div id="ww1022434" class="Indented">A new row is added at the bottom of the Connection section. </div><div id="ww1022465" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>3.	</span></span>Scroll down to the newly added row, and then do the following:</div><div id="ww1022466" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>a.	</span></span>Select the desired signal in the “From” column in the top section and drag it to the “From Signal” cell in the newly created row at the bottom.</div><div id="ww1022477" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>b.	</span></span>Likewise, select the desired signal in the “To” column in the top section and drag it to the “To Signal” cell in the newly created row at the bottom.</div><div id="ww1022478" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>c.	</span></span>Type a name for the new net in the Net Name cell of the newly created row.</div><div id="ww1022747" class="Indented">Only a connection’s Net Name can be edited after you have selected the signals. To change the signals of a connection, you must remove the connection and replace it. To remove a connection, click any cell in the connection, and then click the <span style="color: #ff0000">X</span> button.</div><div id="ww1022416" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>4.	</span></span>Repeat Step 3 for each new connection you want to add.</div><div id="ww1022491" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>5.	</span></span>Select the <span style="font-weight: bold">Stimulus</span> tab, and then do the following: </div><div id="ww1022586" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>a.	</span></span>Select the <span style="font-weight: bold">Clock</span> tab on the left to edit the stimulus of clock signals.</div><div class="ww_skin_page_overflow"><div id="ww1022531" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Click the “<span style="font-weight: bold">add clock stimulus</span>” button <img class="Default" src="../../User%20Guides/Power%20Management/images/power_mgnt.03.61.2.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 20px; max-width: 20px; top: 0.0pt" alt="" title="" /> on the bottom left to add a clock. The system clock signal, ASC0_CLK, will be shown when this tab is opened, and it cannot be edited.</div></div><div id="ww1078663" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Select the desired clock signal from the Signal Name drop-down menu, and then select an initial value, 1 or 0, from the Initial Value menu.</div><div id="ww1078664" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>In the Frequency or Period cell, type a value, select the measurement unit, and press <span style="font-weight: bold">Enter</span>. The period is calculated automatically when you enter the frequency and vice versa.</div><div id="ww1022580" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>b.	</span></span>Select the <span style="font-weight: bold">Data</span> tab on the left to add stimulus for non-clock signals.</div><div class="ww_skin_page_overflow"><div id="ww1022595" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Click the “<span style="font-weight: bold">add data stimulus</span>” button <img class="Default" src="../../User%20Guides/Power%20Management/images/power_mgnt.03.61.3.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 20px; max-width: 20px; top: 0.0pt" alt="" title="" /> on the bottom left to add a new row.</div></div><div id="ww1076714" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Click inside the Signal Name column and choose a signal from the drop-down menu.</div><div id="ww1097011" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>The column following the Signal Name specifies the initial value. Click inside the cell and select the numerical type—Bin, Hex, or Dec—and then enter a value. Enter a value in each subsequent cell where the signal changes. </div><p id="ww1097012" class="Indented3">You do not need to enter a value for each signal in each cell. Enter a value in a cell only when the value changes. The input value will be held at the last entered value if no entry is made in a cell.</p><p id="ww1078789" class="Indented3">You can also select a bus and enter the values. The values can be entered as Binary, Decimal, or Hexadecimal for bus signals.</p><div id="ww1022735" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Repeat the above steps to add stimulus for more non-clock signals.</div><div id="ww1093619" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Add time entries for the additional columns in the top row of the display. You can select the time base to use as you enter each time value. The time entries are absolute time references rather than relative to each other. Therefore, the time values must be increasing from left to right.</div><p id="ww1093615" class="Indented3">When you add a time entry in the last column on the right, a new column gets added on the right, allowing you to enter an additional time value if desired.</p><p id="ww1093975" class="Indented3">To add or remove a column, right-click the time entry top row where you want to insert or remove a column and choose Insert Before, Insert After, or Remove. Make sure that the time entry cell is not open for editing before you right-click. If it is open for editing, press the Enter key, and then right-click to access the pop-up menu.</p><div id="ww1022695" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>6.	</span></span>Click <span style="font-weight: bold">OK</span>.</div></div><div id="page_dates"><div class="ww_skin_page_publish_date"></div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript></body></html>