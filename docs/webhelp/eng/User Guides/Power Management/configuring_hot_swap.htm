<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Configuring Hot Swap</title><link rel="Prev" href="set_fault_log_options.htm" title="Previous" /><link rel="Next" href="configuring_pmbus_adapter.htm" title="Next" /><link rel="StyleSheet" href="../../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/power_mgnt.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script><script type="text/javascript" src="../scripts/search-client.js"></script><script type="text/javascript" src="../scripts/unidata.js"></script><script type="text/javascript" src="../scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pBZjYxN42oH9mceg0NQsxFg" class="ww_skin_page_body" onload="Page.OnLoad('../../index.htm#page/User%20Guides/Power%20Management/configuring_hot_swap.htm');"><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><!-- Moved breadcrumbs to bottom of the header so that the print --><!-- button would float to the right of the breadcrumbs. --><!-- PH 4June2019 --><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="../Getting%20Startred/Getting_Started.htm">User Guides</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="designing_power_mgnt_systems.htm#1115335">	Designing with Lattice Diamond Platform Designer</a> &gt; Configuring Hot Swap</div></header><div id="page_content_container" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px"><div id="page_content"><h2 id="ww1115335" class="Heading1"><span></span>Configuring Hot Swap</h2><p id="ww1115698" class="BodyAfterHead"><span></span><span style="font-weight: bold">(Platform Manager 2. MachXO2HC/HE, MachXO3D, and MachXO3LF only.) </span>Platform Designer's Hot Swap utility enables you to configure a hot swap component that will control the in-rush current in applications where power is rapidly applied, such as a circuit board that is plugged into a backplane. The Hot Swap utility contains a separate page for each of the following three tasks: </p><div id="ww1126738" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../User%20Guides/Power%20Management/configuring_hot_swap.htm#ww1115731" title="Configuring Hot Swap">Hot Swap</a></span> – Specify the settings of a hot swap component.</div><div id="ww1126744" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../User%20Guides/Power%20Management/configuring_hot_swap.htm#ww1125564" title="Configuring Hot Swap">Interface</a></span> – Connect the hot swap component to the Platform Manager 2 resources.</div><div id="ww1126776" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../User%20Guides/Power%20Management/configuring_hot_swap.htm#ww1130306" title="Configuring Hot Swap">InterConnections</a></span> – Connect the hot swap component to the hardware management logic. </div><h5 id="ww1115731" class="StepIntro"><span></span>To specify the settings of a hot swap component:</h5><div id="ww1115842" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>1.	</span></span>Select <span style="font-weight: bold">Hot Swap</span> from the Components section of the menu pane.</div><div class="ww_skin_page_overflow"><div id="ww1115940" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>2.	</span></span>On the Hot Swap page, select a hot swap component from the list or create a new hot swap component by clicking the add button <img class="Default" src="../../User%20Guides/Power%20Management/images/add_button.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 21px; max-width: 19px; top: 0.0pt" alt="" title="" /> on the lower left.</div></div><div id="ww1127971" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>3.	</span></span>Specify the desired options and settings: </div><div id="ww1122364" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Input Supply</div><div id="ww1117412" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>V<span style="vertical-align: sub">IN </span>– Input voltage. This is the supply voltage input, which is used to charge C<span style="vertical-align: sub">LOAD</span>. Together with I<span style="vertical-align: sub">MAX</span>, C<span style="vertical-align: sub">LOAD</span> and the MOSFET SOA (Safe Operating Area) information will be used to calculate the hot swap parameters, including the number of phases, voltage and current trip points.</div><div id="ww1117388" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>I<span style="vertical-align: sub">MAX </span>– Maximum current available from the input supply.</div><div id="ww1117475" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>MOSFET Parameters</div><div id="ww1122437" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Load/Supply – Allows you to place the MOSFET at either the Supply or the Load. Select the setting that matches your application.</div><div id="ww1122632" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>MOSFET Name – Used, for informational purposes only, to track the part number of the MOSFET in your application.</div><div id="ww1122414" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>V1/A1 – Voltage/Current data point pair from the MOSFET SOA curve found in the MOSFET datasheet.</div><div id="ww1117569" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>V2/A2 – Voltage/Current data point pair from the MOSFET SOA curve. V1 must be greater than V2, and A1 must be less than A2.</div><div id="ww1122457" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Current Sensing Configuration</div><div id="ww1117612" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>R<span style="vertical-align: sub">S</span> – Sense Resistor used in the application. Platform Designer uses this sense resistor value to calculate available current sensing trip points.</div><div id="ww1123785" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Current Sense Amp choices – Determines the current sense amp circuit used in the application. </div><p id="ww1123786" class="Indented3">The choice among “External and VMON,” “External and IMON,” and “IMON (Internal)” will determine whether additional current sensing circuit information is required. The choice also determines which monitor circuits are available for assignment in the Interface tab. Certain configurations of V<span style="vertical-align: sub">IN</span> and Current Sense Amp are prohibited, such as using IMON (Internal) with V<span style="vertical-align: sub">IN</span> voltages above 13.2V.</p><div id="ww1123811" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Low Side option – Determines whether the IMON is used in a near ground hot swap application (such as -48V). Selecting this option enables the Low-Side Sense feature in the IMON circuit.</div><div id="ww1124011" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Hot Swap Settings</div><div id="ww1124033" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>C<span style="vertical-align: sub">LOAD</span> – The load capacitor charged up during the hot swap operation. This value is used to calculate the hot swap parameters, including the number of phases and the voltage and current trip points.</div><div id="ww1124255" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Fast Shutdown Limit – Sets the current limit for fast shutdown during hot swap. The menu is automatically populated with available current limit trip points related to the Sense Resistor and Current Sense Amp settings. If the current exceeds the selected limit during hot swap, the hot swap will be aborted and the over current error signal will be asserted. This feature can be disabled by selecting “None.”</div><div id="ww1124999" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Cooldown Period – The period used by the hot swap algorithm to ensure that the MOSFET does not overheat. Each time the hot swap algorithm detects a timeout, remaining in a phase longer than 10 ms, the cooldown period will be used as a wait time prior to resuming the hot swap operation.</div><div id="ww1125300" class="BulletedIndented2"><span class="WebWorks_Number" style="width: 16.560000000000002pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Hot Swap Name – A user-defined name for the hot swap setup.</div><div id="ww1117981" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>4.	</span></span>After all the parameters have been selected, click the <span style="font-weight: bold">Calculate</span> button.</div><div id="ww1125479" class="Indented">The V<span style="vertical-align: sub">LOAD</span> and I<span style="vertical-align: sub">D</span> graphs are updated with the estimated Voltage and current profiles based on the calculated Hot Swap algorithm and settings. The Results/Comments area is updated with information, including the number of hot swap phases and the number of VMON and IMON channels required to support the hot swap implementation.</div><div id="ww1125481" class="Indented">The hot swap calculation might not be able to provide a solution for all circuit configurations. In this case, error information is displayed in the Diamond message console.</div><div id="ww1132057" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>5.	</span></span>If the results are not satisfactory, adjust the settings and calculate again.</div><h5 id="ww1125564" class="StepIntro"><span></span>To connect the hot swap component to Platform Manager 2 resources:</h5><div id="ww1126187" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>1.	</span></span>After you are satisfied with the hot swap calculation results, select the <span style="font-weight: bold">Interface</span> tab.</div><div id="ww1126389" class="Indented">The Interface page consists of several menus that are used to assign VMONs, IMONs, HVOUT, GPIO and PIO channels to the different hot swap functions. When you assign VMON, IMON, and HVOUT channels in the Interface tab, their settings, such as trip point thresholds, will be updated automatically.</div><div id="ww1126812" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>2.	</span></span>Select the desired setting from each of the drop-down menus in the gold-colored boxes, as follows:</div><div id="ww1128263" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>V<span style="vertical-align: sub">IN</span> Monitor – Associates a VMON channel with the input voltage monitoring function of a given hot swap. This VMON channel can be re-used across multiple hot swap components, if they use the same input voltage. The V<span style="vertical-align: sub">IN</span> Monitor can be from any ASC in the Platform Manager 2 system.</div><p id="ww1128264" class="Indented2">Selecting a V<span style="vertical-align: sub">IN</span> Monitor is mandatory. </p><div id="ww1128265" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>ASC – Specifies the ASC device to be used. The ASC menu is automatically populated with the ASCs used in the system. All channels from the drop-down menus inside the pink rectangle will be selected from the chosen ASC.</div><div id="ww1128254" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>MOSFET/Charge Pump Driver – Associates an HVOUT or GPIO with the controlled output signal used in the hot swap algorithm. </div><p id="ww1128270" class="Indented2">Selecting an HVOUT or GPIO is mandatory.</p><div id="ww1128364" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Current Sensing Monitor – Specifies the IMON or VMON channel for current sensing. The channels available are those that support the configurations that were set on the Hot Swap page.</div><p id="ww1132066" class="Indented2">Selecting a current sensing monitor is mandatory.</p><div id="ww1128696" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Fast Current Sense Monitor – Specifies an IMON or VMON channel for fast current sense. This menu is used only when a fast shutdown limit is selected on the Hot Swap page. It is used in conjunction with the fast current sense output, fast path input, and fast shutdown signal.</div><div id="ww1129154" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Fast Current Sense Output – Specifies an HVOUT or GPIO as a fast output signal. This menu is populated with the output signals available on the ASC.</div><div id="ww1129332" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Fast Path Input – Specifies a signal for fast path input. This menu is populated with the PIO signals from the FPGA I/O used in the Platform Manager 2 system. The signal should be externally connected to the fast current sense output signal in the application.</div><div id="ww1129891" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Fast Shut Down Output – Specifies a signal for fast shutdown output. This menu is populated with the PIO signals from the FPGA I/O used in the Platform Manager 2 system. The signal is controlled by the hot swap IP and will perform a fast shutdown of the MOSFET when necessary.</div><div id="ww1129899" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Load Voltage Monitor(s) – Specifies the load VMON or HVMON. This menu is populated with the voltage monitor channels from all ASCs in the Platform Manager 2 system. The number of drop-down menus available is determined by the number of phases required by the hot swap algorithm. These menus can be filled with voltage monitor channels from any ASC in the system.</div><p id="ww1131060" class="Indented2">Selecting a load voltage monitor from each available menu is mandatory.</p><h5 id="ww1130306" class="StepIntro"><span></span>To connect the hot swap component to the hardware management logic:</h5><div id="ww1130461" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>1.	</span></span>Select the <span style="font-weight: bold">Interconnections</span> tab. </div><div id="ww1130468" class="Indented">The Interconnections page includes a set of control signals that are used to connect the hot swap component to the hardware management logic. Each of these signals is typically assigned to a node.</div><div id="ww1130462" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>2.	</span></span>Drag the desired signal from the Signal Pool over to the appropriate box, as follows:</div><div id="ww1130693" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Hot Swap Enable – Input signal to the hot swap component. Asserting this signal high will start the hot swap operation.</div><div id="ww1130817" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Over-Current Clear – Input signal to the hot swap component. This signal needs to be asserted to clear any existing Over-Current Error status.</div><div id="ww1130971" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Hot Swap Done – Output signal from the hot swap component. This signal is asserted by the hot swap component to inform the hardware management logic that the hot swap operation was successfully completed. This signal is cleared when the hot swap enable signal is asserted again.</div><div id="ww1131403" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Hot Swap Error – Output signal from the hot swap component. This signal is asserted by the hot swap component to inform the hardware management logic that an error occurred during the hot swap operation. This signal is cleared when the hot swap enable signal is asserted again.</div><div id="ww1154734" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>Over-Current Error – Output signal from the hot swap component. This signal is asserted by the hot swap component to inform the hardware management logic that an overcurrent error occurred during the hot swap operation. This is in addition to the fast path shutdown behavior. This signal will be cleared when the over-current clear signal is asserted.</div></div><div id="page_dates"><div class="ww_skin_page_publish_date"></div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript></body></html>