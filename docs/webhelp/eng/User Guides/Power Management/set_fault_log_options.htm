<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Setting Fault Logging Options</title><link rel="Prev" href="configuring_fan_control.htm" title="Previous" /><link rel="Next" href="configuring_hot_swap.htm" title="Next" /><link rel="StyleSheet" href="../../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/power_mgnt.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="../css/print.css" type="text/css" media="print" /><script type="text/javascript" src="../scripts/common.js"></script><script type="text/javascript" src="../scripts/page.js"></script><script type="text/javascript" src="../scripts/search-client.js"></script><script type="text/javascript" src="../scripts/unidata.js"></script><script type="text/javascript" src="../scripts/unibreak.js"></script><noscript><div id="noscript_padding"></div></noscript></head><body id="pN31U9W9M0R43iHZg0VlcDTA" class="ww_skin_page_body" onload="Page.OnLoad('../../index.htm#page/User%20Guides/Power%20Management/set_fault_log_options.htm');"><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --><!-- Moved breadcrumbs to bottom of the header so that the print --><!-- button would float to the right of the breadcrumbs. --><!-- PH 4June2019 --><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="../Getting%20Startred/Getting_Started.htm">User Guides</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="designing_power_mgnt_systems.htm#1012265">	Designing with Lattice Diamond Platform Designer</a> &gt; Setting Fault Logging Options</div></header><div id="page_content_container" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px"><div id="page_content"><h2 id="ww1012265" class="Heading1"><span></span>Setting Fault Logging Options</h2><p id="ww1021224" class="BodyAfterHead"><span></span>The Fault Logger, available from the Components section of the menu pane, enables you to specify and configure fault conditions that are logged to non-volatile memory. You have the option of using standard fault logging that is based on voltage, current, and temperature status; or using the full-featured fault logging. By default, fault logging is disabled. </p><p id="ww1119742" class="Body"><span></span>Each ASC device contains a block of EEPROM memory that can be used for either the V, I, T Fault Log or for User Tag Operation. The User Tag Memory is enabled automatically when fault logging is disabled or when full-featured fault logging is selected. It is disabled when V, I, T fault logging is selected.</p><h5 id="ww1012267" class="HeadingRunIn"><span></span>V, I, T Fault Logging</h5><p id="ww1012268" class="Body"><span></span>When you select this option, the Analog Sense and Control device will log the voltage (V), current (I), and temperature (T) status when a fault is detected. The V, I, T fault log supports the logging of 8 signals per Analog Sense and Control device, in addition to the V, I, T signals. These can be digital I/O or other signals.</p><h5 id="ww1100815" class="StepIntro"><span></span>To configure V, I, T fault logging:</h5><div id="ww1100816" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>1.	</span></span>In the Fault Logger, select <span style="font-weight: bold">Enable V, I, T Fault Log </span>from the options shown at the top left.</div><div id="ww1012271" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>2.	</span></span>Select a signal name from the Fault Logging Trigger Signal Name drop-down menu. This signal can be an output from the user logic, an external digital I/O, or a specific monitor alarm signal.</div><div id="ww1012272" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>3.	</span></span>In the “Basic Configuration” section, select the type of memory to log to: EEPROM or SRAM. The EEPROM is non-volatile, but a log takes longer to execute. The SRAM memory is volatile but is executed more quickly.</div><div id="ww1012275" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>4.	</span></span>The V, I, T fault log supports the logging of 8 signals per Analog Sense and Control device in addition to the V, I, T signals. These can be digital I/O or other signals. For each signal that you want to log, drag it from the “User Signals to Log” list over to a D cell of the desired ASC.</div><h5 id="ww1012276" class="HeadingRunIn"><span></span>Full-Featured Fault Logging</h5><p id="ww1012277" class="Body"><span></span>The full-featured fault logging uses either the UFM Flash memory within the device or an external SPI flash memory. Full-featured fault logging is available for Platform Manager 2 LPTM21 devices and for MachXO2HC/HE devices of 1200 and above, MachXO3D, and MachXO3LF devices. ECP5U/UM device support full-featured fault logging with external SPI flash memory only - UFM is not available in ECP5U/UM.</p><h5 id="ww1012278" class="StepIntro"><span></span>To configure full-featured fault logging (Platform Manager 2, MachXO2HC/HE, MachXO3D, and MachXO3LF only):</h5><div id="ww1012279" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>1.	</span></span>In the Fault Logger, select <span style="font-weight: bold">Enable Full-Featured Fault Log</span> from the options shown at the top left.</div><div id="ww1152777" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>2.	</span></span>Select a signal name from the Fault Logging Trigger Signal Name drop-down menu. This signal can be an output from the user logic, an external digital I/O, or a specific monitor alarm signal.</div><div id="ww1152779" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>3.	</span></span>n the “Basic Configuration” section, do the following:</div><div id="ww1153350" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>a.	</span></span>From the drop-down menu, select the contiguous ASCs that you want logged.</div><div id="ww1012283" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>b.	</span></span>Select <span style="font-weight: bold">Include Timestamp</span> if you want Platform Designer to include a 32-bit timestamp timer.</div><div id="ww1012284" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>c.	</span></span>Select a signal to be used as the busy signal name from the “Busy” Signal Name menu. This signal is an output from the fault logger and can be used to inform the user logic that a fault log recording is in progress.</div><div id="ww1012285" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>d.	</span></span>Select a “Log to” option: the on-chip UFM memory or external SPI flash.</div><div id="ww1012286" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>e.	</span></span>If you selected External SPI Flash as the “Log to” option, use the Model drop-down menu to select the external flash model to be used for fault logging.</div><div id="ww1012289" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>4.	</span></span>In the User Log Fields menu, located above the user log table on the right, select the number of additional bits to record in the fault log. </div><div id="ww1034570" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>5.	</span></span>For each additional signal that you want to log, drag it from the “User Signals to Log” list over to a D cell of the desired user log column.</div><h5 id="ww1173572" class="StepIntro"><span></span>To configure full-featured fault logging (ECP5U/UM only):</h5><div id="ww1173573" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>1.	</span></span>In the Fault Logger, select <span style="font-weight: bold">Enable Full-Featured Fault Log</span> from the options shown at the top left.</div><div id="ww1173574" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>2.	</span></span>Select a signal name from the Fault Logging Trigger Signal Name drop-down menu. This signal can be an output from the user logic, an external digital I/O, or a specific monitor alarm signal.</div><div id="ww1173575" class="Indented">Select a signal to be used as the busy signal name from the “Busy” Signal Name menu. This signal is an output from the fault logger and can be used to inform the user logic that a fault log recording is in progress.</div><div id="ww1173576" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>3.	</span></span>In the “Basic Configuration” section, do the following:</div><div id="ww1173577" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>a.	</span></span>From the drop-down menu, select the contiguous ASCs that you want logged.</div><div id="ww1173578" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>b.	</span></span>Select either Disable Time Stamp, Internally Generated Time Stamp, or Externally Assigned Time Stamp. The internally generated timestamp option includes the 1s per bit, 32-bit timestamp. The externally assigned timestamp option will automatically update the Nodes view to include a 32-bit node group, called FL_Timestamp, which can be assigned by the user based on an external, highly accurate timestamp.</div><div id="ww1173579" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>c.	</span></span>In SPI Memory Configuration, select Log to Configuration SPI Memory or Log to Alternate SPI Memory. </div><div id="ww1173580" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>d.	</span></span>Use the Model drop-down menu to select the external flash model to be used for fault logging. </div><div id="ww1173581" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>4.	</span></span>In the User Log Fields menu, located above the user log table on the right, select the number of additional bits to record in the fault log. </div><div id="ww1173582" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>5.	</span></span>For each additional signal that you want to log, drag it from the “User Signals to Log” list over to a D cell of the desired user log column.</div><div id="ww1173583" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>6.	</span></span>In the “Fault Log Memory Space” section, do the following:</div><div id="ww1173584" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>a.	</span></span>Enter the Start Address. This is a Hex input used by the IP to determine the starting address available to the fault logger. This setting allows the user to share the SPI memory with multiple boot images or other information. The default address is 0x030000.</div><div id="ww1173585" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>b.	</span></span>Enter the size in K Bytes.</div><div id="ww1173586" class="NumberedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span>c.	</span></span>The End Address is automatically calculated and displayed by Platform Designer. The displayed value confirms for the user that it is safe to share the SPI memory with multiple boot images or other information.</div><div id="ww1173587" class="Numbered"><span class="WebWorks_Number" style="width: 16.56pt"><span>7.	</span></span>The full-featured fault logger automatically adds a 16-bit node group called FL_Record_Counter to the nodes view. This nodes group can be connected to user logic to provide the number of Fault Records currently stored in memory.</div><h5 id="ww1022993" class="HeadingRunIn"><span></span>See Also</h5><div id="ww1022997" class="Portal" style="vertical-align: baseline"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="../square.png" alt="*" border="0" width="7" height="7" /></span></span><span class="Hyperlink"><a href="../../User%20Guides/Power%20Management/configure_spi_flash_model.htm#ww1035582" title="Configuring a SPI Flash Model">Configuring a SPI Flash Model</a></span></div></div><div id="page_dates"><div class="ww_skin_page_publish_date"></div></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /></footer></div></div><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript></body></html>